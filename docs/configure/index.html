<!DOCTYPE html>







<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Eike Kettner">
<meta name="description" content="Docspell is a Document Management System (DMS), a system that asists in organizing your piles of documents, resulting from scanners, e-mails and other sources with miminal effort.">
<meta name="keywords" content="document management system dms organizer ocr open source free scan pdf word doc archive gpl machine learning nlp auto tagging"/>
<meta name="robots" content="index,follow"/>
<meta name="image" property="og:image" content="/img/poster.png">
<meta name="title" property="og:title" content="Docspell – Simple Document Organizer">
<meta name="og:image" content="/img/poster.png">
<meta name="og:title" content="Docspell – Simple Document Organizer">
<meta name="og:site_name" content="Configuration - Docspell">
<meta name="og:url" content="">
<meta name="og:type" content="website">
<meta name="og:description" content="Simple Document Organizer">
<meta name="twitter:title" content="Docspell">
<meta name="twitter:image" content="/img/poster.png">
<meta name="twitter:description" content="Simple Document Organizer">
<meta name="twitter:card" content="summary_large_image">

<link rel="shortcut icon" href="/favicon-mc.ico" type="image/x-icon">
<link rel="icon" href="/favicon-mc.ico" type="image/x-icon">


        <title>Configuration - Docspell Documentatios</title>
        <link rel="stylesheet" href="/styles.css">

        <script type="text/javascript" src="https://docspell.org/elasticlunr.min.js"></script>
<script type="text/javascript" src="https://docspell.org/search_index.en.js"></script>
<script type="text/javascript" src="https://docspell.org/js/searchhelper.js"></script>
<script type="text/javascript" src="https://docspell.org/js/bundle.js"></script>


        <script type="application/javascript" src="/js/light-switch.js"></script>

        <link id="syntax-css" rel="stylesheet" href="">
    </head>
    <body class="h-full dark:bg-stone-900 bg-white text-stone-600 dark:text-stone-300 antialiased">

                <div id="top-bar"
             class="top-0 fixed z-50 w-full flex flex-row justify-start shadow-sm h-12 bg-white dark:bg-stone-900 text-stone-800 dark:text-stone-200 antialiased border-b dark:border-stone-800"
        >

            <a class="inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10 dark:hover:bg-stone-800" href="/">
                <div class="">
                    <img src="/icons/logo-only-36.svg">
                </div>
                <span class="ml-1 text-xl font-bold font-serif hidden sm:inline">
                    Docspell
                </span>
            </a>

            <div class="flex items-center">
                <div class="text-xs py-1 px-1 rounded-full border opacity-50">
                    0.32.0
                </div>
            </div>

            <div class="flex-grow place-items-end">


            </div>
            <div id="search"></div>
            <a href="/docs" class="inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800"
               title="Documentation"
            >
                <i class="fa fa-book">
                </i>
            </a>
            <a href="/blog" class="inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800"
               title="Blog"
            >
                <i class="fa fa-blog">
                </i>
            </a>
            <a target="_blank" href="https://github.com/eikek/docspell"
               class="inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800"
               title="Github"
            >
                <i class="fab fa-github-alt">
                </i>
            </a>

            <div class="lights-container relative inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 ">
                <a href="#"
                   class="lights-switch h-full w-full inline-flex items-center"
                   title="Lights on/off" >
                    <i class="fa fa-adjust">
                    </i>
                </a>
                <div class="lights-menu text-sm flex flex-col shadow bg-white dark:bg-stone-800 border dark:border-stone-800 absolute top-12 right-2 divide-y dark:divide-stone-700 hidden">
                    <a class="lights-to-dark flex flex-row items-center py-2 px-4 hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-700 cursor-pointer">
                        <i class="fa fa-moon mr-2"></i>
                        <span>Dark</span>
                    </a>
                    <a class="lights-to-light flex flex-row items-center py-2 px-4 hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-700 cursor-pointer">
                        <i class="fa fa-sun font-thin mr-2"></i>
                        <span>Light</span>
                    </a>
                    <a class="lights-to-system flex flex-row items-center py-2 px-4 hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-700 cursor-pointer">
                        <i class="fa fa-laptop mr-2"></i>
                        <span>System</span>
                    </a>

                </div>
            </div>

        </div>


        <div id="docs-main"
             class="mt-12 flex md:flex-row flex-col w-full h-screen-12 sm:overflow-y-hidden"
        >

            
            <div id="sidebar"
                 class ="mx-1 flex flex-col sm:flex-none w-full md:w-72 min-h-max overflow-none sm:overflow-y-auto transition-opacity transition-duration-200 "
            >

                
  <div class="flex flex-col mt-2">
    
    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10 dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200  ">
        <a href="https://docspell.org/docs/"
           title=""
           class="block w-full"
        >
            <i class="fa fa-book mr-1"></i>
            Documentation
        </a>
    </div>

    
    
    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;install&#x2F;quickstart&#x2F;"
           title="There are multiple ways to install Docspell. This section contains detailed instructions."
           class="block w-full"
        >
            Installation
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/quickstart/" class="w-full block">
                Getting Started
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/prereq/" class="w-full block">
                Prerequisites
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/docker/" class="w-full block">
                Docker
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/download-run/" class="w-full block">
                Download &amp; Run
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/nix/" class="w-full block">
                Nix &#x2F; Nixos
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/downgrading/" class="w-full block">
                Downgrading
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/rpi/" class="w-full block">
                Raspberry-Pi
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/reverseproxy/" class="w-full block">
                Reverse Proxy
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/changelog/" class="w-full block">
                Changelog
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;feed&#x2F;"
           title="Shows several ways for getting data into Docspell."
           class="block w-full"
        >
            Feed Data Into Docspell
        </a>
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;features&#x2F;"
           title="A list of features and limitations."
           class="block w-full"
        >
            Features And Limitations
        </a>
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200  dark:bg-stone-800 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;"
           title="Describes the configuration file and shows all default settings."
           class="block w-full"
        >
            Configuration
        </a>
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;webapp&#x2F;dashboards&#x2F;"
           title="This section describes the features of the web application."
           class="block w-full"
        >
            Web-Ui
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/dashboards/" class="w-full block">
                Dashboards
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/uploading/" class="w-full block">
                Uploads
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/metadata/" class="w-full block">
                Meta Data
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/customfields/" class="w-full block">
                Custom Fields
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/curate/" class="w-full block">
                Curate Items
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/multiedit/" class="w-full block">
                Multi Edit
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/finding/" class="w-full block">
                Finding Items
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/bookmarks/" class="w-full block">
                Bookmarks
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/itemcard-customize/" class="w-full block">
                Customize Item Card
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/emailsettings/" class="w-full block">
                E-Mail Settings
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/mailitem/" class="w-full block">
                Send Items Via E-Mail
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/notification/" class="w-full block">
                Notifications
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/scanmailbox/" class="w-full block">
                Scan Mailboxes
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/processing/" class="w-full block">
                Job Queue
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/autotagging/" class="w-full block">
                Auto Tagging
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/merge/" class="w-full block">
                Merge Items
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/totp/" class="w-full block">
                Two-Factor Authentication
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/share/" class="w-full block">
                Shares
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;query&#x2F;"
           title="The query language is a powerful way to search for documents."
           class="block w-full"
        >
            Query Language
        </a>
    </div>
    

    
    
    
    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;cli&#x2F;"
           title="There are several tools distributed with docspell, like a program to watch a folder and import files or a simple android app."
           class="block w-full"
        >
            Tools
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/tools/cli/" class="w-full block">
                Cli
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/tools/android/" class="w-full block">
                Android Client
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/tools/smtpgateway/" class="w-full block">
                Smtp Gateway With Exim
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/tools/paperless-import/" class="w-full block">
                Paperless Import
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;api&#x2F;intro&#x2F;"
           title="Contains documentation about the REST API."
           class="block w-full"
        >
            Api
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/api/intro/" class="w-full block">
                Api Introduction
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/api/upload/" class="w-full block">
                Upload Request
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;joex&#x2F;intro&#x2F;"
           title="More information about the job executor component."
           class="block w-full"
        >
            Joex
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/joex/intro/" class="w-full block">
                Joex
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/joex/file-processing/" class="w-full block">
                File Processing
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;faq&#x2F;"
           title="Frequently asked questions."
           class="block w-full"
        >
            Faq
        </a>
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;dev&#x2F;building&#x2F;"
           title="Contains build instructions and other internal notes."
           class="block w-full"
        >
            Development
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/dev/building/" class="w-full block">
                Building Docspell
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/dev/translation/" class="w-full block">
                Translating Web-Ui
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/dev/development/" class="w-full block">
                Tips &amp; Setup
            </a>
        </div>
        
    </div>
    

    
    
</div>



            </div>
            

            <div id="content"
                 class=" w-full px-2 overflow-none sm:overflow-y-auto scrollbar-main scrollbar-thin flex flex-col lg:flex-row justify-center"
            >
                <div class="content max-w-screen-md flex flex-col">
                    <div class="flex-grow">
                        
  
  <h1 id="configuration">Configuration<a class="zola-anchor" href="#configuration" aria-label="Anchor link for: configuration">🔗</a></h1>
<p>Docspell's executables (restserver and joex) can take one argument – a
configuration file. If that is not given, the defaults are used,
overriden by environment variables. A config file overrides default
values, so only values that differ from the defaults are necessary.
The complete default options and their documentation is at the end of
this page.</p>
<p>Besides the config file, another way is to provide individual settings
via key-value pairs to the executable by the <code>-D</code> option. For example
to override only <code>base-url</code> you could add the argument
<code>-Ddocspell.server.base-url=…</code> to the command. Multiple options are
possible. For more than few values this is very tedious, obviously, so
the recommended way is to maintain a config file. If these options
<em>and</em> a file is provded, then any setting given via the <code>-D…</code> option
overrides the same setting from the config file.</p>
<p>At last, it is possible to configure docspell via environment
variables if there is no config file supplied (if a config file <em>is</em>
supplied, it is always preferred). Note that this approach is limited,
as arrays are not supported. A list of environment variables can be
found at the <a href="https://docspell.org/docs/configure/#environment-variables">end of this page</a>. The
environment variable name follows the corresponding config key - where
dots are replaced by underscores and dashes are replaced by two
underscores. For example, the config key <code>docspell.server.app-name</code>
can be defined as env variable <code>DOCSPELL_SERVER_APP__NAME</code>.</p>
<p>It is also possible to specify environment variables inside a config
file (to get a mix of both) - please see the <a href="https://github.com/lightbend/config#standard-behavior">documentation of the
config library</a>
for more on this.</p>
<h1 id="file-format">File Format<a class="zola-anchor" href="#file-format" aria-label="Anchor link for: file-format">🔗</a></h1>
<p>The format of the configuration files can be
<a href="https://github.com/lightbend/config/blob/master/HOCON.md#hocon-human-optimized-config-object-notation">HOCON</a>,
JSON or what this <a href="https://github.com/lightbend/config">config
library</a> understands. The default
values below are in HOCON format, which is recommended, since it
allows comments and has some <a href="https://github.com/lightbend/config#features-of-hocon">advanced
features</a>.
Please also see their documentation for more details.</p>
<p>A short description (please check the links for better understanding):
The config consists of key-value pairs and can be written in a
JSON-like format (called HOCON). Keys are organized in trees, and a
key defines a full path into the tree. There are two ways:</p>
<pre class="z-code"><code><span class="z-text z-plain">a.b.c.d=15
</span></code></pre>
<p>or</p>
<pre class="z-code"><code><span class="z-text z-plain">a {
  b {
    c {
      d = 15
    }
  }
}
</span></code></pre>
<p>Both are exactly the same and these forms are both used at the same
time. Usually the braces approach is used to group some more settings,
for better readability.</p>
<p>Strings that contain &quot;not-so-common&quot; characters should be enclosed in
quotes. It is possible to define values at the top of the file and
reuse them on different locations via the <code>${full.path.to.key}</code>
syntax. When using these variables, they <em>must not</em> be enclosed in
quotes.</p>
<h1 id="important-config-options">Important Config Options<a class="zola-anchor" href="#important-config-options" aria-label="Anchor link for: important-config-options">🔗</a></h1>
<p>The configuration of both components uses separate namespaces. The
configuration for the REST server is below <code>docspell.server</code>, while
the one for joex is below <code>docspell.joex</code>.</p>
<p>You can therefore use two separate config files or one single file
containing both namespaces.</p>
<h2 id="jdbc">JDBC<a class="zola-anchor" href="#jdbc" aria-label="Anchor link for: jdbc">🔗</a></h2>
<p>This configures the connection to the database. This has to be
specified for the rest server and joex. By default, a H2 database in
the current <code>/tmp</code> directory is configured.</p>
<p>The config looks like this (both components):</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.joex.jdbc</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
  url = ...
  user = ...
  password = ...
<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>

<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.server.backend.jdbc</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
  url = ...
  user = ...
  password = ...
<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
</span></code></pre>
<p>The <code>url</code> is the connection to the database. It must start with
<code>jdbc</code>, followed by name of the database. The rest is specific to the
database used: it is either a path to a file for H2 or a host/database
url for MariaDB and PostgreSQL.</p>
<p>When using H2, the user and password can be chosen freely on first
start, but must stay the same on subsequent starts. Usually, the user
is <code>sa</code> and the password is left empty. Additionally, the url must
include these options:</p>
<pre class="z-code"><code><span class="z-text z-plain">;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;AUTO_SERVER=TRUE
</span></code></pre>
<h3 id="examples">Examples<a class="zola-anchor" href="#examples" aria-label="Anchor link for: examples">🔗</a></h3>
<p>PostgreSQL:</p>
<pre class="z-code"><code><span class="z-text z-plain">url = &quot;jdbc:postgresql://localhost:5432/docspelldb&quot;
</span></code></pre>
<p>MariaDB:</p>
<pre class="z-code"><code><span class="z-text z-plain">url = &quot;jdbc:mariadb://localhost:3306/docspelldb&quot;
</span></code></pre>
<p>H2</p>
<pre class="z-code"><code><span class="z-text z-plain">url = &quot;jdbc:h2:///path/to/a/file.db;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;AUTO_SERVER=TRUE&quot;
</span></code></pre>
<h2 id="admin-endpoint">Admin Endpoint<a class="zola-anchor" href="#admin-endpoint" aria-label="Anchor link for: admin-endpoint">🔗</a></h2>
<p>The admin endpoint defines some <a href="https://docspell.org/docs/api/intro/#admin">routes</a>
for adminstration tasks. This is disabled by default and can be
enabled by providing a secret:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">...</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">admin-endpoint</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    secret = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>123<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
</span></code></pre>
<p>This secret must be provided to all requests to a <code>/api/v1/admin/</code>
endpoint.</p>
<h2 id="full-text-search-solr">Full-Text Search: SOLR<a class="zola-anchor" href="#full-text-search-solr" aria-label="Anchor link for: full-text-search-solr">🔗</a></h2>
<p><a href="https://solr.apache.org">Apache SOLR</a> is used to provide the
full-text search. Both docspell components must provide the same
connection setup. This is defined in the <code>full-text-search.solr</code>
subsection:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">...</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">full-text-search</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    enabled = true
    ...
    solr = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:8983/solr/docspell<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
</span></code></pre>
<p>The default configuration at the end of this page contains more
information about each setting.</p>
<p>The <code>solr.url</code> is the mandatory setting that you need to change to
point to your SOLR instance. Then you need to set the <code>enabled</code> flag
to <code>true</code>.</p>
<p>When installing docspell manually, just install solr and create a core
as described in the <a href="https://solr.apache.org/guide/8_4/installing-solr.html">solr
documentation</a>.
That will provide you with the connection url (the last part is the
core name). If Docspell detects an empty core it will run a schema
setup on start automatically.</p>
<p>The <code>full-text-search.solr</code> options are the same for joex and the
restserver.</p>
<p>There is an <a href="https://docspell.org/docs/api/intro/#admin">admin route</a> that allows to
re-create the entire index (for all collectives). This is possible via
a call:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">$</span></span><span class="z-meta z-function-call z-arguments z-shell"> curl<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>XPOST</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>H</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell-Admin-Secret: test123<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> http://localhost:7880/api/v1/admin/fts/reIndexAll</span>
</span></code></pre>
<p>Here the <code>test123</code> is the key defined with <code>admin-endpoint.secret</code>. If
it is empty (the default), this call is disabled (all admin routes).
Otherwise, the POST request will submit a system task that is executed
by a joex instance eventually.</p>
<p>Using this endpoint, the entire index (including the schema) will be
re-created. This is sometimes necessary, for example if you upgrade
SOLR or delete the core to provide a new one (see
<a href="https://solr.apache.org/guide/8_4/reindexing.html">here</a> for
details). Another way is to restart docspell (while clearing the
index). If docspell detects an empty index at startup, it will submit
a task to build the index automatically.</p>
<p>Note that a collective can also re-index their data using a similiar
endpoint; but this is only deleting their data and doesn't do a full
re-index.</p>
<p>The solr index doesn't contain any new information, it can be
regenerated any time using the above REST call. Thus it doesn't need
to be backed up.</p>
<h2 id="bind">Bind<a class="zola-anchor" href="#bind" aria-label="Anchor link for: bind">🔗</a></h2>
<p>The host and port the http server binds to. This applies to both
components. The joex component also exposes a small REST api to
inspect its state and notify the scheduler.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.server.bind</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
  address = localhost
  port = 7880
<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.joex.bind</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
  address = localhost
  port = 7878
<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
</span></code></pre>
<p>By default, it binds to <code>localhost</code> and some predefined port. This
must be changed, if components are on different machines.</p>
<h2 id="baseurl">Baseurl<a class="zola-anchor" href="#baseurl" aria-label="Anchor link for: baseurl">🔗</a></h2>
<p>The base url is an important setting that defines the http URL where
the corresponding component can be reached. It applies to both
components. For a joex component, the url must be resolvable from a
REST server component. The REST server also uses this url to create
absolute urls and to configure the authenication cookie.</p>
<p>By default it is build using the information from the <code>bind</code> setting,
which is <code>http://localhost:7880</code>.</p>
<p>If the default is not changed, docspell will use the request to
determine the base-url. It first inspects the <code>X-Forwarded-For</code> header
that is often used with reverse proxies. If that is not present, the
<code>Host</code> header of the request is used. However, if the <code>base-url</code>
setting is changed, then only this setting is used.</p>
<pre class="z-code"><code><span class="z-text z-plain">docspell.server.base-url = ...
docspell.joex.base-url = ...
</span></code></pre>
<p>If you are unsure, leave it at its default.</p>
<h3 id="examples-1">Examples<a class="zola-anchor" href="#examples-1" aria-label="Anchor link for: examples-1">🔗</a></h3>
<pre class="z-code"><code><span class="z-text z-plain">docspell.server.baseurl = &quot;https://docspell.example.com&quot;
docspell.joex.baseurl = &quot;http://192.168.101.10&quot;
</span></code></pre>
<h2 id="app-id">App-id<a class="zola-anchor" href="#app-id" aria-label="Anchor link for: app-id">🔗</a></h2>
<p>The <code>app-id</code> is the identifier of the corresponding instance. It <em>must
be unique</em> for all instances. By default the REST server uses <code>rest1</code>
and joex <code>joex1</code>. It is recommended to overwrite this setting to have
an explicit and stable identifier should multiple instances are
intended.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.server.app-id</span></span><span class="z-meta z-function-call z-arguments z-shell"> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>rest1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.joex.app-id</span></span><span class="z-meta z-function-call z-arguments z-shell"> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>joex1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span></code></pre>
<h2 id="registration-options">Registration Options<a class="zola-anchor" href="#registration-options" aria-label="Anchor link for: registration-options">🔗</a></h2>
<p>This defines if and how new users can create accounts. There are 3
options:</p>
<ul>
<li><em>closed</em> no new user can sign up</li>
<li><em>open</em> new users can sign up</li>
<li><em>invite</em> new users can sign up but require an invitation key</li>
</ul>
<p>This applies only to the REST sevrer component.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.server.backend.signup</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
  mode = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>open<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If mode == &#39;invite&#39;, a password must be provided to generate</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> invitation keys. It must not be empty.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  new-invite-password = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If mode == &#39;invite&#39;, this is the period an invitation token is</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> considered valid.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  invite-time = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>3 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
</span></code></pre>
<p>The mode <code>invite</code> is intended to open the application only to some
users. The admin can create these invitation keys and distribute them
to the desired people. For this, the <code>new-invite-password</code> must be
given. The idea is that only the person who installs docspell knows
this. If it is not set, then invitation won't work. New invitation
keys can be generated from within the web application or via REST
calls (using <code>curl</code>, for example).</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">curl</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>X</span> POST<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>d</span> <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>{&quot;password&quot;:&quot;blabla&quot;}<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:7880/api/v1/open/signup/newinvite<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span></code></pre>
<h2 id="authentication">Authentication<a class="zola-anchor" href="#authentication" aria-label="Anchor link for: authentication">🔗</a></h2>
<p>Authentication works in two ways:</p>
<ul>
<li>with an account-name / password pair</li>
<li>with an authentication token</li>
</ul>
<p>The initial authentication must occur with an accountname/password
pair. This will generate an authentication token which is valid for a
some time. Subsequent calls to secured routes can use this token. The
token can be given as a normal http header or via a cookie header.</p>
<p>These settings apply only to the REST server.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.server.auth</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
  server-secret = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>hex:caffee<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> or &quot;b64:Y2FmZmVlCg==&quot;</span><span class="z-comment z-line z-number-sign z-shell">
</span>  session-valid = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
</span></code></pre>
<p>The <code>server-secret</code> is used to sign the token. If multiple REST
servers are deployed, all must share the same server secret. Otherwise
tokens from one instance are not valid on another instance. The secret
can be given as Base64 encoded string or in hex form. Use the prefix
<code>hex:</code> and <code>b64:</code>, respectively. If no prefix is given, the UTF8 bytes
of the string are used.</p>
<p>The <code>session-valid</code> determines how long a token is valid. This can be
just some minutes, the web application obtains new ones
periodically. So a rather short time is recommended.</p>
<h2 id="openid-connect-oauth2">OpenID Connect / OAuth2<a class="zola-anchor" href="#openid-connect-oauth2" aria-label="Anchor link for: openid-connect-oauth2">🔗</a></h2>
<p>You can integrate Docspell into your SSO solution via <a href="https://openid.net/connect/">OpenID
Connect</a> (OIDC). This requires to set up
an OpenID Provider (OP) somewhere and to configure Docspell
accordingly to act as the relying party.</p>
<p>You can define multiple OPs to use. For some examples, please see the
default configuration file <a href="https://docspell.org/docs/configure/#rest-server">below</a>.</p>
<p>The configuration of a provider highly depends on how it is setup.
Here is an example for a setup using
<a href="https://www.keycloak.org">keycloak</a>:</p>
<pre data-lang="conf" class="language-conf z-code"><code class="language-conf" data-lang="conf"><span class="z-source z-genconfig"><span class="z-meta z-param z-genconfig"><span class="z-variable z-parameter z-genconfig">provider</span> <span class="z-keyword z-operator z-genconfig">=</span></span> {
<span class="z-meta z-param z-genconfig">  <span class="z-variable z-parameter z-genconfig">provider-id</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;keycloak&quot;</span><span class="z-keyword z-operator z-genconfig">,</span>
<span class="z-meta z-param z-genconfig">  <span class="z-variable z-parameter z-genconfig">client-id</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;docspell&quot;</span><span class="z-keyword z-operator z-genconfig">,</span>
<span class="z-meta z-param z-genconfig">  <span class="z-variable z-parameter z-genconfig">client-secret</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;example-secret-439e-bf06-911e4cdd56a6&quot;</span><span class="z-keyword z-operator z-genconfig">,</span>
<span class="z-meta z-param z-genconfig">  <span class="z-variable z-parameter z-genconfig">scope</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;profile&quot;</span><span class="z-keyword z-operator z-genconfig">,</span><span class="z-meta z-comment z-genconfig"> <span class="z-comment z-line z-number-sign z-genconfig"># scope is required for OIDC
</span></span><span class="z-meta z-param z-genconfig">  <span class="z-variable z-parameter z-genconfig">authorize-url</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;http://localhost:8080/auth/realms/home/protocol/openid-connect/auth&quot;</span><span class="z-keyword z-operator z-genconfig">,</span>
<span class="z-meta z-param z-genconfig">  <span class="z-variable z-parameter z-genconfig">token-url</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;http://localhost:8080/auth/realms/home/protocol/openid-connect/token&quot;</span><span class="z-keyword z-operator z-genconfig">,</span>
<span class="z-meta z-comment z-genconfig">  <span class="z-comment z-line z-number-sign z-genconfig">#User URL is not used when signature key is set.
</span></span><span class="z-meta z-comment z-genconfig">  <span class="z-comment z-line z-number-sign z-genconfig">#user-url = &quot;http://localhost:8080/auth/realms/home/protocol/openid-connect/userinfo&quot;,
</span></span><span class="z-meta z-param z-genconfig">  <span class="z-variable z-parameter z-genconfig">sign-key</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;b64:MII…ZYL09vAwLn8EAcSkCAwEAAQ==&quot;</span><span class="z-keyword z-operator z-genconfig">,</span>
<span class="z-meta z-param z-genconfig">  <span class="z-variable z-parameter z-genconfig">sig-algo</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;RS512&quot;</span>
}
</span></code></pre>
<p>The <code>provider-id</code> is some identifier that is used in the URL to
distinguish between possibly multiple providers. The <code>client-id</code> and
<code>client-secret</code> define the two parameters required for a &quot;confidential
client&quot;. The different URLs are best explained at the <a href="https://www.keycloak.org/docs/latest/server_admin/">keycloak
docs</a>.
They are available for all OPs in some way. The <code>user-url</code> is not
required, if the access token is already containing the necessary
data. If not, then docspell performs another request to the
<code>user-url</code>, which must be the user-info endpoint, to obtain the
required user data.</p>
<p>If the data is taken from the token directly and not via a request to
the user-info endpoint, then the token must be validated using the
given <code>sign-key</code> and <code>sig-algo</code>. These two values are then required to
specify! However, if the user-info endpoint should be used, then leave
the <code>sign-key</code> empty and specify the correct url in <code>user-url</code>. When
specifying the <code>sign-key</code> use a prefix of <code>b64:</code> if it is Base64
encoded or <code>hex:</code> if it is hex encoded. Otherwise the unicode bytes
are used, which is most probably not wanted for this setting.</p>
<p>Once the user is authenticated, docspell tries to setup an account and
does some checks. For this it must get to the username and collective
name somehow. How it does this, can be specified by the <code>user-key</code> and
<code>collective-key</code> settings:</p>
<pre data-lang="conf" class="language-conf z-code"><code class="language-conf" data-lang="conf"><span class="z-source z-genconfig"><span class="z-meta z-comment z-genconfig"><span class="z-comment z-line z-number-sign z-genconfig"># The collective of the user is given in the access token as
</span></span><span class="z-meta z-comment z-genconfig"><span class="z-comment z-line z-number-sign z-genconfig"># property `docspell_collective`.
</span></span><span class="z-meta z-param z-genconfig"><span class="z-variable z-parameter z-genconfig">collective-key</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;lookup:docspell_collective&quot;</span><span class="z-keyword z-operator z-genconfig">,</span>
<span class="z-meta z-comment z-genconfig"><span class="z-comment z-line z-number-sign z-genconfig"># The username to use for the docspell account
</span></span><span class="z-meta z-param z-genconfig"><span class="z-variable z-parameter z-genconfig">user-key</span> <span class="z-keyword z-operator z-genconfig">=</span></span> <span class="z-string z-quoted z-double z-genconfig">&quot;preferred_username&quot;</span>
</span></code></pre>
<p>The <code>user-key</code> is some string that is used to search the JSON response
from the OP for an object with that key. The search happens
recursively, so the field can be in a nested object. The found value
is used as the user name. Keycloak transmits the <code>preferred_username</code>
when asking for the <code>profile</code> scope. This can be used as the user
name.</p>
<p>The collective name can be obtained by different ways. For example,
you can instruct your OP (like keycloak) to provide a collective name
in the token and/or user-info responses. If you do this, then use the
<code>lookup:</code> prefix as in the example above. This instructs docspell to
search for a value the same way as the <code>user-key</code>. You can also set a
fixed collective, using <code>fixed:</code> prefix; in this case all users are in
the same collective! A third option is to prefix it with <code>account:</code> -
then the value that is looked up is interpreted as the full account
name, like <code>collective/user</code> and the <code>user-key</code> setting is ignored. If
you want to put each user in its own collective, you can just use the
same value as in <code>user-key</code>, only prefixed with <code>lookup:</code>. In the
example it would be <code>lookup:preferred_username</code>.</p>
<p>If you find that these methods do not suffice for your case, please
open an issue.</p>
<h2 id="file-processing">File Processing<a class="zola-anchor" href="#file-processing" aria-label="Anchor link for: file-processing">🔗</a></h2>
<p>Files are being processed by the joex component. So all the respective
configuration is in this config only.</p>
<p>File processing involves several stages, detailed information can be
found <a href="https://docspell.org/docs/joex/file-processing/#text-analysis">here</a> and in the
corresponding sections in <a href="https://docspell.org/docs/configure/#joex">joex default config</a>.</p>
<p>Configuration allows to define the external tools and set some
limitations to control memory usage. The sections are:</p>
<ul>
<li><code>docspell.joex.extraction</code></li>
<li><code>docspell.joex.text-analysis</code></li>
<li><code>docspell.joex.convert</code></li>
</ul>
<p>Options to external commands can use variables that are replaced by
values at runtime. Variables are enclosed in double braces <code>{{…}}</code>.
Please see the default configuration for what variables exist per
command.</p>
<h3 id="classification">Classification<a class="zola-anchor" href="#classification" aria-label="Anchor link for: classification">🔗</a></h3>
<p>In <code>text-analysis.classification</code> you can define how many documents at
most should be used for learning. The default settings should work
well for most cases. However, it always depends on the amount of data
and the machine that runs joex. For example, by default the documents
to learn from are limited to 600 (<code>classification.item-count</code>) and
every text is cut after 5000 characters (<code>text-analysis.max-length</code>).
This is fine if <em>most</em> of your documents are small and only a few are
near 5000 characters). But if <em>all</em> your documents are very large, you
probably need to either assign more heap memory or go down with the
limits.</p>
<p>Classification can be disabled, too, for when it's not needed.</p>
<h3 id="nlp">NLP<a class="zola-anchor" href="#nlp" aria-label="Anchor link for: nlp">🔗</a></h3>
<p>This setting defines which NLP mode to use. It defaults to <code>full</code>,
which requires more memory for certain languages (with the advantage
of better results). Other values are <code>basic</code>, <code>regexonly</code> and
<code>disabled</code>. The modes <code>full</code> and <code>basic</code> use pre-defined lanugage
models for procesing documents of languaes German, English, French and
Spanish. These require some amount of memory (see below).</p>
<p>The mode <code>basic</code> is like the &quot;light&quot; variant to <code>full</code>. It doesn't use
all NLP features, which makes memory consumption much lower, but comes
with the compromise of less accurate results.</p>
<p>The mode <code>regexonly</code> doesn't use pre-defined lanuage models, even if
available. It checks your address book against a document to find
metadata. That means, it is language independent. Also, when using
<code>full</code> or <code>basic</code> with lanugages where no pre-defined models exist, it
will degrade to <code>regexonly</code> for these.</p>
<p>The mode <code>disabled</code> skips NLP processing completely. This has least
impact in memory consumption, obviously, but then only the classifier
is used to find metadata (unless it is disabled, too).</p>
<p>You might want to try different modes and see what combination suits
best your usage pattern and machine running joex. If a powerful
machine is used, simply leave the defaults. When running on an
raspberry pi, for example, you might need to adjust things.</p>
<h3 id="memory-usage">Memory Usage<a class="zola-anchor" href="#memory-usage" aria-label="Anchor link for: memory-usage">🔗</a></h3>
<p>The memory requirements for the joex component depends on the document
language and the enabled features for text-analysis. The <code>nlp.mode</code>
setting has significant impact, especially when your documents are in
German. Here are some rough numbers on jvm heap usage (the same file
was used for all tries):</p>
<table class="table is-hoverable is-striped">
<thead>
  <tr><th>nlp.mode</th><th>English</th><th>German</th><th>French</th></tr>
</thead>
<tfoot>
</tfoot>
<tbody>
  <tr><td>full</td><td>420M</td><td>950M</td><td>490M</td></tr>
  <tr><td>basic</td><td>170M</td><td>380M</td><td>390M</td></tr>
</tbody>
</table>
<p>Note that these are only rough numbers and they show the maximum used
heap memory while processing a file.</p>
<p>When using <code>mode=full</code>, a heap setting of at least <code>-Xmx1400M</code> is
recommended. For <code>mode=basic</code> a heap setting of at least <code>-Xmx500M</code> is
recommended.</p>
<p>Other languages can't use these two modes, and so don't require this
amount of memory (but don't have as good results). Then you can go
with less heap. For these languages, the nlp mode is the same as
<code>regexonly</code>.</p>
<p>Training the classifier is also memory intensive, which solely depends
on the size and number of documents that are being trained. However,
training the classifier is done periodically and can happen maybe
every two weeks. When classifying new documents, memory requirements
are lower, since the model already exists.</p>
<p>More details about these modes can be found
<a href="https://docspell.org/docs/joex/file-processing/#text-analysis">here</a>.</p>
<p>The restserver component is very lightweight, here you can use
defaults.</p>
<h1 id="jvm-options">JVM Options<a class="zola-anchor" href="#jvm-options" aria-label="Anchor link for: jvm-options">🔗</a></h1>
<p>The start scripts support some options to configure the JVM. One often
used setting is the maximum heap size of the JVM. By default, java
determines it based on properties of the current machine. You can
specify it by given java startup options to the command:</p>
<pre class="z-code"><code><span class="z-text z-plain">$ ./docspell-restserver*/bin/docspell-restserver -J-Xmx1G -- /path/to/server-config.conf
</span></code></pre>
<p>This would limit the maximum heap to 1GB. The double slash separates
internal options and the arguments to the program. Another frequently
used option is to change the default temp directory. Usually it is
<code>/tmp</code>, but it may be desired to have a dedicated temp directory,
which can be configured:</p>
<pre class="z-code"><code><span class="z-text z-plain">$ ./docspell-restserver*/bin/docspell-restserver -J-Xmx1G -Djava.io.tmpdir=/path/to/othertemp -- /path/to/server-config.conf
</span></code></pre>
<p>The command:</p>
<pre class="z-code"><code><span class="z-text z-plain">$ ./docspell-restserver*/bin/docspell-restserver -h
</span></code></pre>
<p>gives an overview of supported options.</p>
<p>It is recommended to run joex with the G1GC enabled. If you use java8,
you need to add an option to use G1GC (<code>-XX:+UseG1GC</code>), for java11
this is not necessary (but doesn't hurt either). This could look like
this:</p>
<pre class="z-code"><code><span class="z-text z-plain">./docspell-joex-&lt;pre data-shortcode&gt;0.32.0&lt;/pre&gt;/bin/docspell-joex -J-Xmx1596M -J-XX:+UseG1GC -- /path/to/joex.conf
</span></code></pre>
<p>Using these options you can define how much memory the JVM process is
able to use. This might be necessary to adopt depending on the usage
scenario and configured text analysis features.</p>
<p>Please have a look at the corresponding <a href="https://docspell.org/docs/configure/#memory-usage">section</a>.</p>
<h1 id="logging">Logging<a class="zola-anchor" href="#logging" aria-label="Anchor link for: logging">🔗</a></h1>
<p>By default, docspell logs to stdout. This works well, when managed by
systemd or other inits. Logging is done by
<a href="https://logback.qos.ch/">logback</a>. Please refer to its documentation
for how to configure logging.</p>
<p>If you created your logback config file, it can be added as argument
to the executable using this syntax:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">/path/to/docspell</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>Dlogback</span>.configurationFile=/path/to/your/logging-config-file</span>
</span></code></pre>
<p>To get started, the default config looks like this:</p>
<pre data-lang="xml" class="language-xml z-code"><code class="language-xml" data-lang="xml"><span class="z-text z-xml"><span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-entity z-name z-tag z-localname z-xml">configuration</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>
  <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-entity z-name z-tag z-localname z-xml">appender</span> <span class="z-entity z-other z-attribute-name z-localname z-xml">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-quoted z-double z-xml"><span class="z-punctuation z-definition z-string z-begin z-xml">&quot;</span>STDOUT<span class="z-punctuation z-definition z-string z-end z-xml">&quot;</span></span> <span class="z-entity z-other z-attribute-name z-localname z-xml">class</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-quoted z-double z-xml"><span class="z-punctuation z-definition z-string z-begin z-xml">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="z-punctuation z-definition z-string z-end z-xml">&quot;</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>
    <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-entity z-name z-tag z-localname z-xml">withJansi</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>true<span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-entity z-name z-tag z-localname z-xml">withJansi</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>

    <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-entity z-name z-tag z-localname z-xml">encoder</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>
      <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-entity z-name z-tag z-localname z-xml">pattern</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>[%thread] %highlight(%-5level) %cyan(%logger{15}) - %msg %n<span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-entity z-name z-tag z-localname z-xml">pattern</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>
    <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-entity z-name z-tag z-localname z-xml">encoder</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>
  <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-entity z-name z-tag z-localname z-xml">appender</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>

  <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-entity z-name z-tag z-localname z-xml">logger</span> <span class="z-entity z-other z-attribute-name z-localname z-xml">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-quoted z-double z-xml"><span class="z-punctuation z-definition z-string z-begin z-xml">&quot;</span>docspell<span class="z-punctuation z-definition z-string z-end z-xml">&quot;</span></span> <span class="z-entity z-other z-attribute-name z-localname z-xml">level</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-quoted z-double z-xml"><span class="z-punctuation z-definition z-string z-begin z-xml">&quot;</span>debug<span class="z-punctuation z-definition z-string z-end z-xml">&quot;</span></span> <span class="z-punctuation z-definition z-tag z-end z-xml">/&gt;</span></span>
  <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-entity z-name z-tag z-localname z-xml">root</span> <span class="z-entity z-other z-attribute-name z-localname z-xml">level</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-quoted z-double z-xml"><span class="z-punctuation z-definition z-string z-begin z-xml">&quot;</span>INFO<span class="z-punctuation z-definition z-string z-end z-xml">&quot;</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>
    <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-entity z-name z-tag z-localname z-xml">appender-ref</span> <span class="z-entity z-other z-attribute-name z-localname z-xml">ref</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-quoted z-double z-xml"><span class="z-punctuation z-definition z-string z-begin z-xml">&quot;</span>STDOUT<span class="z-punctuation z-definition z-string z-end z-xml">&quot;</span></span> <span class="z-punctuation z-definition z-tag z-end z-xml">/&gt;</span></span>
  <span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-entity z-name z-tag z-localname z-xml">root</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>
<span class="z-meta z-tag z-xml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-entity z-name z-tag z-localname z-xml">configuration</span><span class="z-punctuation z-definition z-tag z-end z-xml">&gt;</span></span>
</span></code></pre>
<p>The <code>&lt;root level=&quot;INFO&quot;&gt;</code> means, that only log statements with level
&quot;INFO&quot; will be printed. But the <code>&lt;logger name=&quot;docspell&quot; level=&quot;debug&quot;&gt;</code> above says, that for loggers with name &quot;docspell&quot;
statements with level &quot;DEBUG&quot; will be printed, too.</p>
<h1 id="default-config">Default Config<a class="zola-anchor" href="#default-config" aria-label="Anchor link for: default-config">🔗</a></h1>
<h2 id="rest-server">Rest Server<a class="zola-anchor" href="#rest-server" aria-label="Anchor link for: rest-server">🔗</a></h2>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash">
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.server</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is shown in the top right corner of the web application</span><span class="z-comment z-line z-number-sign z-shell">
</span>  app-name = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is the id of this node. If you run more than one server, you</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> have to make sure to provide unique ids per node.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  app-id = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>rest1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is the base URL this application is deployed to. This is used</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> to create absolute URLs and to configure the cookie.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If default is not changed, the HOST line of the login request is</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> used instead or the value of the `X-Forwarded-For` header. If set</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> to some other value, the request is not inspected.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  base-url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:7880<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This url is the base url for reaching this server internally.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> While you might set `base-url` to some external address (like</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> mydocs.myserver.com), the `internal-url` must be set such that</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> other nodes can reach this server.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  internal-url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:7880<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Where the server binds to.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  bind <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    address = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>localhost<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    port = 7880
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is a hard limit to restrict the size of a batch that is</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> returned when searching for items. The user can set this limit</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> within the client config, but it is restricted by the server to</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> the number defined here. An admin might choose a lower number</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> depending on the available resources.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  max-item-page-size = 200

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The number of characters to return for each item notes when</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> searching. Item notes may be very long, when returning them with</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> all the results from a search, they add quite some data to return.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> In order to keep this low, a limit can be defined here.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  max-note-length = 180


  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This defines whether the classification form in the collective</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> settings is displayed or not. If all joex instances have document</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> classification disabled, it makes sense to hide its settings from</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> users.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  show-classification-settings = true

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Authentication.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  auth <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The secret for this server that is used to sign the authenicator</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> tokens. If multiple servers are running, all must share the same</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> secret. You can use base64 or hex strings (prefix with b64: and</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> hex:, respectively). If empty, a random secret is generated.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Example: b64:YRx77QujCGkHSvll0TVEmtTaw3Z5eXr+nWMsEJowgKg=</span><span class="z-comment z-line z-number-sign z-shell">
</span>    server-secret = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> How long an authentication token is valid. The web application</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> will get a new one periodically.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    session-valid = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    remember-me <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      enabled = true
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> How long the remember me cookie/token is valid.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      valid = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configures OpenID Connect (OIDC) or OAuth2 authentication. Only</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> the &quot;Authorization Code Flow&quot; is supported.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Multiple authentication providers can be defined. Each is</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> configured in the array below. The `provider` block gives all</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> details necessary to authenticate against an external OIDC or</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> OAuth provider. This requires at least two URLs for OIDC and three</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> for OAuth2. When using OIDC, the `user-url` is only required if</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> the account data is to be retrieved from the user-info endpoint</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> and not from the JWT token. For the request to the `user-url`, the</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> access token is then used to authenticate at the provider. Thus,</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> it doesn&#39;t need to be validated here and therefore no `sign-key`</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> setting is needed. However, if you want to extract the account</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> information from the access token, it must be validated here and</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> therefore the correct signature key and algorithm must be</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> provided. If the `sign-key` is left empty, the `user-url` is used</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> and must be specified. If the `sign-key` is _not_ empty, the</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> response from the authentication provider is validated using this</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> key.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> After successful authentication, docspell needs to create the</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> account. For this a username and collective name is required. The</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> account name is defined by the `user-key` and `collective-key`</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> setting. The `user-key` is used to search the JSON structure, that</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> is obtained from the JWT token or the user-info endpoint, for the</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> login name to use. It traverses the JSON structure recursively,</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> until it finds an object with that key. The first value is used.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The `collective-key` can be used in multiple ways and both can</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> work together to retrieve the full account id:</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - If it starts with `fixed:`, like &quot;fixed:collective&quot;, the name</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   after the `fixed:` prefix is used as collective as is. So all</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   users are in the same collective.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - If it starts with `lookup:`, like &quot;lookup:collective_name&quot;, the</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   value after the prefix is used to search the JSON response for</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   an object with this key, just like it works with the `user-key`.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - If it starts with `account:`, like &quot;account:demo&quot;, it works the</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   same as `lookup:` only that the value is interpreted as the full</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   account name of form `collective/login`. The `user-key` value is</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   ignored in this case.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If these values cannot be obtained from the response, docspell</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> fails the authentication. It is then assumed that the successfully</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> authenticated user at the OP has not enough permissions to access</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> docspell.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Below are examples for OpenID Connect (keycloak) and OAuth2</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> (github).</span><span class="z-comment z-line z-number-sign z-shell">
</span>  openid =
    [ <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span> enabled = false<span class="z-punctuation z-separator z-shell">,</span>

        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The name to render on the login link/button.</span><span class="z-comment z-line z-number-sign z-shell">
</span>        display = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Keycloak<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This illustrates to use a custom keycloak setup as the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> authentication provider. For details, please refer to the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> keycloak documentation. The settings here assume a certain</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> configuration at keycloak.</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Keycloak can be configured to return the collective name for</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> each user in the access token. It may also be configured to</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> return it in the user info response. If it is already in the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> access token, an additional request can be omitted. Set the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> `sign-key` to an empty string then. Otherwise provide the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> algo and key from your realm settings. In this example, the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> realm is called &quot;home&quot;.</span><span class="z-comment z-line z-number-sign z-shell">
</span>        provider = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
          provider-id = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>keycloak<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          client-id = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>docspell<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          client-secret = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>example-secret-439e-bf06-911e4cdd56a6<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          scope = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>profile<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span> <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> scope is required for OIDC</span><span class="z-comment z-line z-number-sign z-shell">
</span>          authorize-url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:8080/auth/realms/home/protocol/openid-connect/auth<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          token-url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:8080/auth/realms/home/protocol/openid-connect/token<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">User URL is not used when signature key is set.</span><span class="z-comment z-line z-number-sign z-shell">
</span>          <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">user-url = &quot;http://localhost:8080/auth/realms/home/protocol/openid-connect/userinfo&quot;,</span><span class="z-comment z-line z-number-sign z-shell">
</span>          sign-key = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>b64:anVzdC1hLXRlc3Q=<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          sig-algo = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>RS512<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span><span class="z-punctuation z-separator z-shell">,</span>
        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The collective of the user is given in the access token as</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> property `docspell_collective`.</span><span class="z-comment z-line z-number-sign z-shell">
</span>        collective-key = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>lookup:docspell_collective<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The username to use for the docspell account</span><span class="z-comment z-line z-number-sign z-shell">
</span>        user-key = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>preferred_username<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span><span class="z-punctuation z-separator z-shell">,</span>
      <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span> enabled = false<span class="z-punctuation z-separator z-shell">,</span>

        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The name to render on the login link/button.</span><span class="z-comment z-line z-number-sign z-shell">
</span>        display = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Github<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Provider settings for using github as an authentication</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> provider. Note that this is only an example to illustrate</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> how it works. Usually you wouldn&#39;t want to let every user on</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> github in ;-).</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Github doesn&#39;t have full OpenIdConnect, but supports the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> OAuth2 code flow (which is very similar). It mainly means,</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> that there is no standardized token to validate and get</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> information from. So the user-url must be used in this case.</span><span class="z-comment z-line z-number-sign z-shell">
</span>        provider = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
          provider-id = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>github<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          client-id = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>&lt;your github client id&gt;<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          client-secret = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>&lt;your github client secret&gt;<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          scope = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span> <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> scope is not needed for github</span><span class="z-comment z-line z-number-sign z-shell">
</span>          authorize-url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>https://github.com/login/oauth/authorize<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          token-url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>https://github.com/login/oauth/access_token<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          user-url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>https://api.github.com/user<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          sign-key = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> this must be set empty</span><span class="z-comment z-line z-number-sign z-shell">
</span>          sig-algo = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>RS256<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">unused but must be set to something</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span><span class="z-punctuation z-separator z-shell">,</span>

        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If the authentication provider doesn&#39;t provide the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> collective name, simply use a fixed one. This means all</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> users from this provider are in the same collective!</span><span class="z-comment z-line z-number-sign z-shell">
</span>        collective-key = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>fixed:demo<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>

        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Github provides the login name via the `login` property as</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> response from the user-url. This value is used to construct</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> the account in docspell.</span><span class="z-comment z-line z-number-sign z-shell">
</span>        user-key = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>login<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
    ]

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This endpoint allows to upload files to any collective. The</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> intention is that local software integrates with docspell more</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> easily. Therefore the endpoint is not protected by the usual</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> means.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> For security reasons, this endpoint is disabled by default. If</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> enabled, you can choose from some ways to protect it. It may be a</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> good idea to further protect this endpoint using a firewall, such</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> that outside traffic is not routed.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> NOTE: If all protection methods are disabled, the endpoint is not</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> protected at all!</span><span class="z-comment z-line z-number-sign z-shell">
</span>  integration-endpoint <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    enabled = false

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The priority to use when submitting files through this endpoint.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    priority = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>low<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The name used for the item &quot;source&quot; property when uploaded</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> through this endpoint.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    source-name = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>integration<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> IPv4 addresses to allow access. An empty list, if enabled,</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> prohibits all requests. IP addresses may be specified as simple</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> globs: a part marked as `*&#39; matches any octet, like in</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> `192.168.*.*`. The `127.0.0.1&#39; (the default) matches the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> loopback address.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    allowed-ips <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      enabled = false
      ips = <span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>127.0.0.1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> <span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Requests are expected to use http basic auth when uploading</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> files.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    http-basic <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      enabled = false
      realm = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell Integration<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      user = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>docspell-int<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      password = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>docspell-int<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Requests are expected to supply some specific header when</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> uploading files.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    http-header <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      enabled = false
      header-name = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell-Integration<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      header-value = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>some-secret<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is a special endpoint that allows some basic administration.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> It is intended to be used by admins only, that is users who</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> installed the app and have access to the system. Normal users</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> should not have access and therefore a secret must be provided in</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> order to access it.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is used for some endpoints, for example:</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - re-create complete fulltext index:</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   curl -XPOST -H&#39;Docspell-Admin-Secret: xyz&#39; http://localhost:7880/api/v1/admin/fts/reIndexAll</span><span class="z-comment z-line z-number-sign z-shell">
</span>  admin-endpoint <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The secret. If empty, the endpoint is disabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    secret = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration of the full-text search engine.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  full-text-search <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The full-text search feature can be disabled. It requires an</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> additional index server which needs additional memory and disk</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> space. It can be enabled later any time.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Currently the SOLR search platform is supported.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    enabled = false

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration for the SOLR backend.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    solr = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The URL to solr</span><span class="z-comment z-line z-number-sign z-shell">
</span>      url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:8983/solr/docspell<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Used to tell solr when to commit the data</span><span class="z-comment z-line z-number-sign z-shell">
</span>      commit-within = 1000
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If true, logs request and response bodies</span><span class="z-comment z-line z-number-sign z-shell">
</span>      log-verbose = false
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The defType parameter to lucene that defines the parser to</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> use. You might want to try &quot;edismax&quot; or look here:</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> https://solr.apache.org/guide/8_4/query-syntax-and-parsing.html#query-syntax-and-parsing</span><span class="z-comment z-line z-number-sign z-shell">
</span>      def-type = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>lucene<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The default combiner for tokens. One of {AND, OR}.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      q-op = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>OR<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration for the backend.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  backend <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Enable or disable debugging for e-mail related functionality. This</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> applies to both sending and receiving mails. For security reasons</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> logging is not very extensive on authentication failures. Setting</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> this to true, results in a lot of data printed to stdout.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    mail-debug = false

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The database connection.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    jdbc <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The JDBC url to the database. By default a H2 file-based</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> database is configured. You can provide a postgresql or</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> mariadb connection here. When using H2 use the PostgreSQL</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> compatibility mode and AUTO_SERVER feature.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>jdbc:h2://<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">java.io.tmpdir</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/docspell-demo.db;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;AUTO_SERVER=TRUE<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The database user.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      user = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>sa<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The database password.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      password = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration for registering new users.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    signup <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The mode defines if new users can signup or not. It can have</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> three values:</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - open: every new user can sign up</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - invite: new users can sign up only if they provide a correct</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   invitation key. Invitation keys can be generated by the</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">   server.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - closed: signing up is disabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      mode = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>open<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If mode == &#39;invite&#39;, a password must be provided to generate</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> invitation keys. It must not be empty.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      new-invite-password = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If mode == &#39;invite&#39;, this is the period an invitation token is</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> considered valid.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      invite-time = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>3 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    files <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Defines the chunk size (in bytes) used to store the files.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This will affect the memory footprint when uploading and</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> downloading files. At most this amount is loaded into RAM for</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> down- and uploading.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> It also defines the chunk size used for the blobs inside the</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> database.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      chunk-size = 524288

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The file content types that are considered valid. Docspell</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> will only pass these files to processing. The processing code</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> itself has also checks for which files are supported and which</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> not. This affects the uploading part and can be used to</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> restrict file types that should be handed over to processing.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> By default all files are allowed.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      valid-mime-types = <span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span> <span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
</span></code></pre>
<h2 id="joex">Joex<a class="zola-anchor" href="#joex" aria-label="Anchor link for: joex">🔗</a></h2>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash">
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.joex</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is the id of this node. If you run more than one server, you</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> have to make sure to provide unique ids per node.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  app-id = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>joex1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>


  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is the base URL this application is deployed to. This is used</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> to register this joex instance such that docspell rest servers can</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> reach them</span><span class="z-comment z-line z-number-sign z-shell">
</span>  base-url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:7878<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Where the REST server binds to.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> JOEX provides a very simple REST interface to inspect its state.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  bind <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    address = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>localhost<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    port = 7878
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The database connection.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> It must be the same connection as the rest server is using.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  jdbc <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The JDBC url to the database. By default a H2 file-based</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> database is configured. You can provide a postgresql or mariadb</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> connection here. When using H2 use the PostgreSQL compatibility</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> mode and AUTO_SERVER feature.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>jdbc:h2://<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">java.io.tmpdir</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/docspell-demo.db;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;AUTO_SERVER=TRUE<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The database user.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    user = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>sa<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The database password.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    password = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Enable or disable debugging for e-mail related functionality. This</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> applies to both sending and receiving mails. For security reasons</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> logging is not very extensive on authentication failures. Setting</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> this to true, results in a lot of data printed to stdout.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  mail-debug = false

  send-mail <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is used as the List-Id e-mail header when mails are sent</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> from docspell to its users (example: for notification mails). It</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> is not used when sending to external recipients. If it is empty,</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> no such header is added. Using this header is often useful when</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> filtering mails.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> It should be a string in angle brackets. See</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> https://tools.ietf.org/html/rfc2919 for a formal specification</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> of this header.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    list-id = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration for the job scheduler.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  scheduler <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Each scheduler needs a unique name. This defaults to the node</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> name, which must be unique, too.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    name = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">docspell.joex.app</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-keyword z-operator z-assignment z-shell">-</span></span><span class="z-meta z-group z-expansion z-parameter z-shell">id</span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Number of processing allowed in parallel.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    pool-size = 1

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> A counting scheme determines the ratio of how high- and low-prio</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> jobs are run. For example: 4,1 means run 4 high prio jobs, then</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> 1 low prio and then start over.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    counting-scheme = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>4,1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> How often a failed job should be retried until it enters failed</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> state. If a job fails, it becomes &quot;stuck&quot; and will be retried</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> after a delay.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    retries = 2

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The delay until the next try is performed for a failed job. This</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> delay is increased exponentially with the number of retries.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    retry-delay = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>1 minute<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The queue size of log statements from a job.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    log-buffer-size = 500

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If no job is left in the queue, the scheduler will wait until a</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> notify is requested (using the REST interface). To also retry</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> stuck jobs, it will notify itself periodically.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    wakeup-period = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  periodic-scheduler <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Each scheduler needs a unique name. This defaults to the node</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> name, which must be unique, too.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    name = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">docspell.joex.app</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-keyword z-operator z-assignment z-shell">-</span></span><span class="z-meta z-group z-expansion z-parameter z-shell">id</span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> A fallback to start looking for due periodic tasks regularily.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Usually joex instances should be notified via REST calls if</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> external processes change tasks. But these requests may get</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> lost.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    wakeup-period = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>10 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration for the user-tasks.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  user-tasks <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Allows to import e-mails by scanning a mailbox.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    scan-mailbox <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> A limit of how many folders to scan through. If a user</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> configures more than this, only upto this limit folders are</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> scanned and a warning is logged.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      max-folders = 50

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> How many mails (headers only) to retrieve in one chunk.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If this is greater than `max-mails&#39; it is set automatically to</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> the value of `max-mails&#39;.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      mail-chunk-size = 50

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> A limit on how many mails to process in one job run. This is</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> meant to avoid too heavy resource allocation to one</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> user/collective.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If more than this number of mails is encountered, a warning is</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> logged.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      max-mails = 500
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>


  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Docspell uses periodic house keeping tasks, like cleaning expired</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> invites, that can be configured here.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  house-keeping <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> When the house keeping tasks execute. Default is to run every</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> week.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    schedule = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Sun *-*-* 00:00:00<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This task removes invitation keys that have been created but not</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> used. The timespan here must be greater than the `invite-time&#39;</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> setting in the rest server config file.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    cleanup-invites = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Whether this task is enabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      enabled = true

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The minimum age of invites to be deleted.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      older-than = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This task removes expired remember-me tokens. The timespan</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> should be greater than the `valid` time in the restserver</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> config.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    cleanup-remember-me = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Whether the job is enabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      enabled = true

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The minimum age of tokens to be deleted.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      older-than = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Jobs store their log output in the database. Normally this data</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> is only interesting for some period of time. The processing logs</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> of old files can be removed eventually.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    cleanup-jobs = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Whether this task is enabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      enabled = true

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The minimum age of jobs to delete. It is matched against the</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> `finished&#39; timestamp.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      older-than = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This defines how many jobs are deleted in one transaction.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Since the data to delete may get large, it can be configured</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> whether more or less memory should be used.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      delete-batch = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>100<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Removes node entries that are not reachable anymore.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    check-nodes <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Whether this task is enabled</span><span class="z-comment z-line z-number-sign z-shell">
</span>      enabled = true
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> How often the node must be unreachable, before it is removed.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      min-not-found = 2
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> A periodic task to check for new releases of docspell. It can</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> inform about a new release via e-mail. You need to specify an</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> account that has SMTP settings to use for sending.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  update-check <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Whether to enable this task</span><span class="z-comment z-line z-number-sign z-shell">
</span>    enabled = false

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Sends the mail without checking the latest release. Can be used</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> if you want to see if mail sending works, but don&#39;t want to wait</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> until a new release is published.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    test-run = false

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> When the update check should execute. Default is to run every</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> week.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    schedule = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Sun *-*-* 00:00:00<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> An account id in form of `collective/user` (or just `user` if</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> collective and user name are the same). This user account must</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> have at least one valid SMTP settings which are used to send the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> mail.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    sender-account = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The SMTP connection id that should be used for sending the mail.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    smtp-id = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> A list of recipient e-mail addresses.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Example: `[ &quot;john.doe@gmail.com&quot; ]`</span><span class="z-comment z-line z-number-sign z-shell">
</span>    recipients = <span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span><span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The subject of the mail. It supports the same variables as the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> body.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    subject = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell {{ latestVersion }} is available<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The body of the mail. Subject and body can contain these</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> variables which are replaced:</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - `latestVersion` the latest available version of Docspell</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - `currentVersion` the currently running (old) version of Docspell</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> - `releasedAt` a date when the release was published</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The body is processed as markdown after the variables have been</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> replaced.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    body = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>
Hello,

You are currently running Docspell {{ currentVersion }}. Version *{{ latestVersion }}*
is now available, which was released on {{ releasedAt }}. Check the release page at:

&lt;https://github.com/eikek/docspell/releases/latest&gt;

Have a nice day!

Docpell Update Check
<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration of text extraction</span><span class="z-comment z-line z-number-sign z-shell">
</span>  extraction <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> For PDF files it is first tried to read the text parts of the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> PDF. But PDFs can be complex documents and they may contain text</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> and images. If the returned text is shorter than the value</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> below, OCR is run afterwards. Then both extracted texts are</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> compared and the longer will be used.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    pdf <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      min-text-len = 500
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    preview <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> When rendering a pdf page, use this dpi. This results in</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> scaling the image. A standard A4 page rendered at 96dpi</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> results in roughly 790x1100px image. Using 32 results in</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> roughly 200x300px image.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Note, when this is changed, you might want to re-generate</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> preview images. Check the api for this, there is an endpoint</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> to regenerate all for a collective.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      dpi = 32
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Extracting text using OCR works for image and pdf files. It will</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> first run ghostscript to create a gray image from a pdf. Then</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> unpaper is run to optimize the image for the upcoming ocr, which</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> will be done by tesseract. All these programs must be available</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> in your PATH or the absolute path can be specified below.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    ocr <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Images greater than this size are skipped. Note that every</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> image is loaded completely into memory for doing OCR. This is</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> the pixel count, `height * width` of the image.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      max-image-size = 14000000

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Defines what pages to process. If a PDF with 600 pages is</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> submitted, it is probably not necessary to scan through all of</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> them. This would take a long time and occupy resources for no</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> value. The first few pages should suffice. The default is first</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> 10 pages.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If you want all pages being processed, set this number to -1.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Note: if you change the ghostscript command below, be aware that</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> this setting (if not -1) will add another parameter to the</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> beginning of the command.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      page-range <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
        begin = 10
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The ghostscript command.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      ghostscript <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
        command <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
          program = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>gs<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          args = [ <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-dNOPAUSE<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 <span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-dBATCH<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 <span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-dSAFER<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 <span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-sDEVICE=tiffscaled8<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 <span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-sOutputFile={{outfile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 <span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{infile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 ]
          timeout = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
        working-dir = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">java.io.tmpdir</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/docspell-extraction<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The unpaper command.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      unpaper <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
        command <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
          program = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>unpaper<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          args = <span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{infile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>, <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{outfile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> <span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>
          timeout = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The tesseract command.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      tesseract <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
        command <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
          program = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>tesseract<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          args = [<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{file}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 <span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>stdout<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 <span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-l<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 <span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{lang}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
                 ]
          timeout = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Settings for text analysis</span><span class="z-comment z-line z-number-sign z-shell">
</span>  text-analysis <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Maximum length of text to be analysed.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> All text to analyse must fit into RAM. A large document may take</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> too much heap. Also, most important information is at the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> beginning of a document, so in most cases the first two pages</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> should suffice. Default is 5000, which are about 2 pages (just a</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> rough guess, of course). For my data, more than 80% of the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> documents are less than 5000 characters.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This values applies to nlp and the classifier. If this value is</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> &lt;= 0, the limit is disabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    max-length = 5000

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> A working directory for the analyser to store temporary/working</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> files.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    working-dir = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">java.io.tmpdir</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/docspell-analysis<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    nlp <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The mode for configuring NLP models:</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> 1. full – builds the complete pipeline</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> 2. basic - builds only the ner annotator</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> 3. regexonly - matches each entry in your address book via regexps</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> 4. disabled - doesn&#39;t use any stanford-nlp feature</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The full and basic variants rely on pre-build language models</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> that are available for only a few languages. Memory usage</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> varies among the languages. So joex should run with -Xmx1400M</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> at least when using mode=full.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The basic variant does a quite good job for German and</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> English. It might be worse for French, always depending on the</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> type of text that is analysed. Joex should run with about 500M</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> heap, here again lanugage German uses the most.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The regexonly variant doesn&#39;t depend on a language. It roughly</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> works by converting all entries in your addressbook into</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> regexps and matches each one against the text. This can get</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> memory intensive, too, when the addressbook grows large. This</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> is included in the full and basic by default, but can be used</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> independently by setting mode=regexner.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> When mode=disabled, then the whole nlp pipeline is disabled,</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> and you won&#39;t get any suggestions. Only what the classifier</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> returns (if enabled).</span><span class="z-comment z-line z-number-sign z-shell">
</span>      mode = full

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The StanfordCoreNLP library caches language models which</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> requires quite some amount of memory. Setting this interval to a</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> positive duration, the cache is cleared after this amount of</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> idle time. Set it to 0 to disable it if you have enough memory,</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> processing will be faster.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This has only any effect, if mode != disabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      clear-interval = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>15 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Restricts proposals for due dates. Only dates earlier than this</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> number of years in the future are considered.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      max-due-date-years = 10

      regex-ner <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Whether to enable custom NER annotation. This uses the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> address book of a collective as input for NER tagging (to</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> automatically find correspondent and concerned entities). If</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> the address book is large, this can be quite memory</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> intensive and also makes text analysis much slower. But it</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> improves accuracy and can be used independent of the</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> lanugage. If this is set to 0, it is effectively disabled</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> and NER tagging uses only statistical models (that also work</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> quite well, but are restricted to the languages mentioned</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> above).</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Note, this is only relevant if nlp-config.mode is not</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> &quot;disabled&quot;.</span><span class="z-comment z-line z-number-sign z-shell">
</span>        max-entries = 1000

        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The NER annotation uses a file of patterns that is derived</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> from a collective&#39;s address book. This is is the time how</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> long this data will be kept until a check for a state change</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> is done.</span><span class="z-comment z-line z-number-sign z-shell">
</span>        file-cache-time = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>1 minute<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Settings for doing document classification.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This works by learning from existing documents. This requires a</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> satstical model that is computed from all existing documents.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This process is run periodically as configured by the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> collective. It may require more memory, depending on the amount</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> of data.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> It utilises this NLP library: https://nlp.stanford.edu/.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    classification <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Whether to enable classification globally. Each collective can</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> enable/disable auto-tagging. The classifier is also used for</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> finding correspondents and concerned entities, if enabled</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> here.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      enabled = true

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If concerned with memory consumption, this restricts the</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> number of items to consider. More are better for training. A</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> negative value or zero means to train on all items.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This limit and `text-analysis.max-length` define how much</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> memory is required. On weaker hardware, it is advised to play</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> with these values.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      item-count = 600

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> These settings are used to configure the classifier. If</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> multiple are given, they are all tried and the &quot;best&quot; is</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> chosen at the end. See</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> https://nlp.stanford.edu/nlp/javadoc/javanlp/edu/stanford/nlp/classify/ColumnDataClassifier.html</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> for more info about these settings. The settings here yielded</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> good results with *my* dataset.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Enclose regexps in triple quotes.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      classifiers = [
        <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>useSplitWords<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>true<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>splitWordsTokenizerRegexp<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>[\p{L}][\p{L}0-9]*|(?:<span class="z-constant z-character z-escape z-shell">\$</span> ?)?[0-9]+(?:\.[0-9]{2})?%?|\s+|.<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>splitWordsIgnoreRegexp<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>\s+<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>useSplitPrefixSuffixNGrams<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>true<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>maxNGramLeng<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>4<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>minNGramLeng<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>splitWordShape<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>chris4<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>intern<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>true<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> makes it slower but saves memory</span><span class="z-comment z-line z-number-sign z-shell">
</span>        <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
      ]
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration for converting files into PDFs.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Most of it is delegated to external tools, which can be configured</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> below. They must be in the PATH environment or specify the full</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> path below via the `program` key.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  convert <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The chunk size used when storing files. This should be the same</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> as used with the rest server.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    chunk-size = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">docspell.joex.files.chunk</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-keyword z-operator z-assignment z-shell">-</span></span><span class="z-meta z-group z-expansion z-parameter z-shell">size</span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> A string used to change the filename of the converted pdf file.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If empty, the original file name is used for the pdf file ( the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> extension is always replaced with `pdf`).</span><span class="z-comment z-line z-number-sign z-shell">
</span>    converted-filename-part = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>converted<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> When reading images, this is the maximum size. Images that are</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> larger are not processed.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    max-image-size = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">docspell.joex.extraction.ocr.max</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-keyword z-operator z-assignment z-shell">-</span></span><span class="z-meta z-group z-expansion z-parameter z-shell">image-size</span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Settings when processing markdown files (and other text files)</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> to HTML.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> In order to support text formats, text files are first converted</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> to HTML using a markdown processor. The resulting HTML is then</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> converted to a PDF file.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    markdown <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>

      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The CSS that is used to style the resulting HTML.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      internal-css = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>
        body { padding: 2em 5em; }
      <span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> To convert HTML files into PDF files, the external tool</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> wkhtmltopdf is used.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    wkhtmlpdf <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      command = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
        program = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>wkhtmltopdf<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        args = [
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-s<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>A4<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>--encoding<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{encoding}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>--load-error-handling<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>ignore<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>--load-media-error-handling<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>ignore<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{outfile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        ]
        timeout = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>2 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
      working-dir = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">java.io.tmpdir</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/docspell-convert<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> To convert image files to PDF files, tesseract is used. This</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> also extracts the text in one go.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    tesseract = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      command = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
        program = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>tesseract<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        args = [
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{infile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>out<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-l<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{lang}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>pdf<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>txt<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        ]
        timeout = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
      working-dir = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">java.io.tmpdir</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/docspell-convert<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> To convert &quot;office&quot; files to PDF files, the external tool</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> unoconv is used. Unoconv uses libreoffice/openoffice for</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> converting. So it supports all formats that are possible to read</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> with libreoffice/openoffic.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Note: to greatly improve performance, it is recommended to start</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> a libreoffice listener by running `unoconv -l` in a separate</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> process.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    unoconv = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      command = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
        program = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>unoconv<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        args = [
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-f<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>pdf<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-o<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{outfile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{infile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        ]
        timeout = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>2 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
      working-dir = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">java.io.tmpdir</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/docspell-convert<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The tool ocrmypdf can be used to convert pdf files to pdf files</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> in order to add extracted text as a separate layer. This makes</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> image-only pdfs searchable and you can select and copy/paste the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> text. It also converts pdfs into pdf/a type pdfs, which are best</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> suited for archiving. So it makes sense to use this even for</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> text-only pdfs.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> It is recommended to install ocrympdf, but it also is optional.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If it is enabled but fails, the error is not fatal and the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> processing will continue using the original pdf for extracting</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> text. You can also disable it to remove the errors from the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> processing logs.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The `--skip-text` option is necessary to not fail on &quot;text&quot; pdfs</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> (where ocr is not necessary). In this case, the pdf will be</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> converted to PDF/A.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    ocrmypdf = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      enabled = true
      command = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
        program = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>ocrmypdf<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        args = [
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-l<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{lang}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>--skip-text<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>--deskew<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>-j<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{infile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>
          <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>{{outfile}}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
        ]
        timeout = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
      working-dir = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">java.io.tmpdir</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/docspell-convert<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Allows to try to decrypt a PDF with encryption or protection. If</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> enabled, a PDFs encryption or protection will be removed during</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> conversion.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> For encrypted PDFs, this is necessary to be processed, because</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> docspell needs to read it. It also requires to specify a</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> password here. All passwords are tried when reading a PDF.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This is enabled by default with an empty password list. This</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> removes protection from PDFs, which is better for processing.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Passwords can be given here and each collective can maintain</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> their passwords as well. But if the `enabled` setting below is</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> `false`, then no attempt at decrypting is done.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    decrypt-pdf = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      enabled = true
      passwords = <span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span><span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The same section is also present in the rest-server config. It is</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> used when submitting files into the job queue for processing.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Currently, these settings may affect memory usage of all nodes, so</span><span class="z-comment z-line z-number-sign z-shell">
</span>  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> it should be the same on all nodes.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  files <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Defines the chunk size (in bytes) used to store the files.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> This will affect the memory footprint when uploading and</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> downloading files. At most this amount is loaded into RAM for</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> down- and uploading.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> It also defines the chunk size used for the blobs inside the</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> database.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    chunk-size = 524288

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The file content types that are considered valid. Docspell</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> will only pass these files to processing. The processing code</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> itself has also checks for which files are supported and which</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> not. This affects the uploading part and can be used to</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> restrict file types that should be handed over to processing.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> By default all files are allowed.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    valid-mime-types = <span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span> <span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration of the full-text search engine.</span><span class="z-comment z-line z-number-sign z-shell">
</span>  full-text-search <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The full-text search feature can be disabled. It requires an</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> additional index server which needs additional memory and disk</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> space. It can be enabled later any time.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">
</span>    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Currently the SOLR search platform is supported.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    enabled = false

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Configuration for the SOLR backend.</span><span class="z-comment z-line z-number-sign z-shell">
</span>    solr = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The URL to solr</span><span class="z-comment z-line z-number-sign z-shell">
</span>      url = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:8983/solr/docspell<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Used to tell solr when to commit the data</span><span class="z-comment z-line z-number-sign z-shell">
</span>      commit-within = 1000
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> If true, logs request and response bodies</span><span class="z-comment z-line z-number-sign z-shell">
</span>      log-verbose = false
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The defType parameter to lucene that defines the parser to</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> use. You might want to try &quot;edismax&quot; or look here:</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> https://solr.apache.org/guide/8_4/query-syntax-and-parsing.html#query-syntax-and-parsing</span><span class="z-comment z-line z-number-sign z-shell">
</span>      def-type = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>lucene<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> The default combiner for tokens. One of {AND, OR}.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      q-op = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>OR<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>

    <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Settings for running the index migration tasks</span><span class="z-comment z-line z-number-sign z-shell">
</span>    migration = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> Chunk size to use when indexing data from the database. This</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> many attachments are loaded into memory and pushed to the</span><span class="z-comment z-line z-number-sign z-shell">
</span>      <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> full-text index.</span><span class="z-comment z-line z-number-sign z-shell">
</span>      index-all-chunk = 10
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
</span></code></pre>
<h2 id="environment-variables">Environment Variables<a class="zola-anchor" href="#environment-variables" aria-label="Anchor link for: environment-variables">🔗</a></h2>
<p>Environment variables can be used when there is no config file
supplied. The listing below shows all possible variables and their
default values.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash">
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">### Server Configuration ####</span><span class="z-comment z-line z-number-sign z-shell">
</span>
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The secret. If empty, the endpoint is disabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_ADMIN__ENDPOINT_SECRET</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This is the id of this node. If you run more than one server, you</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  have to make sure to provide unique ids per node.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_APP__ID</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>rest1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This is shown in the top right corner of the web application</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_APP__NAME</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_AUTH_REMEMBER__ME_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">true</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  How long the remember me cookie/token is valid.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_AUTH_REMEMBER__ME_VALID</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The secret for this server that is used to sign the authenicator</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  tokens. If multiple servers are running, all must share the same</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  secret. You can use base64 or hex strings (prefix with b64: and</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  hex:, respectively). If empty, a random secret is generated.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Example: b64:YRx77QujCGkHSvll0TVEmtTaw3Z5eXr+nWMsEJowgKg=</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_AUTH_SERVER__SECRET</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  How long an authentication token is valid. The web application</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  will get a new one periodically.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_AUTH_SESSION__VALID</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Defines the chunk size (in bytes) used to store the files.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This will affect the memory footprint when uploading and</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  downloading files. At most this amount is loaded into RAM for</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  down- and uploading.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  It also defines the chunk size used for the blobs inside the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  database.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BACKEND_FILES_CHUNK__SIZE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">524288</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The database password.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BACKEND_JDBC_PASSWORD</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BACKEND_JDBC_URL</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>jdbc:h2:///tmp/docspell-demo.db;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;AUTO_SERVER=TRUE<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The database user.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BACKEND_JDBC_USER</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>sa<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Enable or disable debugging for e-mail related functionality. This</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  applies to both sending and receiving mails. For security reasons</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  logging is not very extensive on authentication failures. Setting</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  this to true, results in a lot of data printed to stdout.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BACKEND_MAIL__DEBUG</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If mode == &#39;invite&#39;, this is the period an invitation token is</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  considered valid.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BACKEND_SIGNUP_INVITE__TIME</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>3 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The mode defines if new users can signup or not. It can have</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  three values:</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  - open: every new user can sign up</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  - invite: new users can sign up only if they provide a correct</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">    invitation key. Invitation keys can be generated by the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">    server.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  - closed: signing up is disabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BACKEND_SIGNUP_MODE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>open<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If mode == &#39;invite&#39;, a password must be provided to generate</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  invitation keys. It must not be empty.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BACKEND_SIGNUP_NEW__INVITE__PASSWORD</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This is the base URL this application is deployed to. This is used</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  to create absolute URLs and to configure the cookie.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If default is not changed, the HOST line of the login request is</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  used instead or the value of the `X-Forwarded-For` header. If set</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  to some other value, the request is not inspected.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BASE__URL</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:7880<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BIND_ADDRESS</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>localhost<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_BIND_PORT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">7880</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The full-text search feature can be disabled. It requires an</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  additional index server which needs additional memory and disk</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  space. It can be enabled later any time.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Currently the SOLR search platform is supported.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_FULL__TEXT__SEARCH_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Used to tell solr when to commit the data</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_FULL__TEXT__SEARCH_SOLR_COMMIT__WITHIN</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">1000</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The defType parameter to lucene that defines the parser to</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  use. You might want to try &quot;edismax&quot; or look here:</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  https://solr.apache.org/guide/8_4/query-syntax-and-parsing.html#query-syntax-and-parsing</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_FULL__TEXT__SEARCH_SOLR_DEF__TYPE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>lucene<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If true, logs request and response bodies</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_FULL__TEXT__SEARCH_SOLR_LOG__VERBOSE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The default combiner for tokens. One of {AND, OR}.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_FULL__TEXT__SEARCH_SOLR_Q__OP</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>OR<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The URL to solr</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_FULL__TEXT__SEARCH_SOLR_URL</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:8983/solr/docspell<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_ALLOWED__IPS_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_HTTP__BASIC_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_HTTP__BASIC_PASSWORD</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>docspell-int<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_HTTP__BASIC_REALM</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell Integration<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_HTTP__BASIC_USER</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>docspell-int<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_HTTP__HEADER_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_HTTP__HEADER_HEADER__NAME</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell-Integration<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_HTTP__HEADER_HEADER__VALUE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>some-secret<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The priority to use when submitting files through this endpoint.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_PRIORITY</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>low<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The name used for the item &quot;source&quot; property when uploaded</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  through this endpoint.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTEGRATION__ENDPOINT_SOURCE__NAME</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>integration<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This url is the base url for reaching this server internally.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  While you might set `base-url` to some external address (like</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  mydocs.myserver.com), the `internal-url` must be set such that</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  other nodes can reach this server.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_INTERNAL__URL</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:7880<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This is a hard limit to restrict the size of a batch that is</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  returned when searching for items. The user can set this limit</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  within the client config, but it is restricted by the server to</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  the number defined here. An admin might choose a lower number</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  depending on the available resources.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_MAX__ITEM__PAGE__SIZE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">200</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The number of characters to return for each item notes when</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  searching. Item notes may be very long, when returning them with</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  all the results from a search, they add quite some data to return.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  In order to keep this low, a limit can be defined here.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_MAX__NOTE__LENGTH</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">180</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This defines whether the classification form in the collective</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  settings is displayed or not. If all joex instances have document</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  classification disabled, it makes sense to hide its settings from</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  users.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_SERVER_SHOW__CLASSIFICATION__SETTINGS</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">true</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">### JOEX Configuration ####</span><span class="z-comment z-line z-number-sign z-shell">
</span>
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This is the id of this node. If you run more than one server, you</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  have to make sure to provide unique ids per node.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_APP__ID</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>joex1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This is the base URL this application is deployed to. This is used</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  to register this joex instance such that docspell rest servers can</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  reach them</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_BASE__URL</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:7878<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_BIND_ADDRESS</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>localhost<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_BIND_PORT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">7878</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Defines the chunk size (in bytes) used to store the files.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This will affect the memory footprint when uploading and</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  downloading files. At most this amount is loaded into RAM for</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  down- and uploading.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  It also defines the chunk size used for the blobs inside the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  database.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_CHUNK__SIZE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">524288</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  A string used to change the filename of the converted pdf file.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If empty, the original file name is used for the pdf file ( the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  extension is always replaced with `pdf`).</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_CONVERTED__FILENAME__PART</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>converted<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_DECRYPT__PDF_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">true</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The CSS that is used to style the resulting HTML.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_MARKDOWN_INTERNAL__CSS</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>\n        body { padding: 2em 5em; }\n      <span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Images greater than this size are skipped. Note that every</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  image is loaded completely into memory for doing OCR. This is</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  the pixel count, `height * width` of the image.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_MAX__IMAGE__SIZE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">14000000</span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_OCRMYPDF_COMMAND_PROGRAM</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>ocrmypdf<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_OCRMYPDF_COMMAND_TIMEOUT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_OCRMYPDF_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">true</span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_OCRMYPDF_WORKING__DIR</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/tmp/docspell-convert<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_TESSERACT_COMMAND_PROGRAM</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>tesseract<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_TESSERACT_COMMAND_TIMEOUT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_TESSERACT_WORKING__DIR</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/tmp/docspell-convert<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_UNOCONV_COMMAND_PROGRAM</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>unoconv<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_UNOCONV_COMMAND_TIMEOUT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>2 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_UNOCONV_WORKING__DIR</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/tmp/docspell-convert<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_WKHTMLPDF_COMMAND_PROGRAM</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>wkhtmltopdf<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_WKHTMLPDF_COMMAND_TIMEOUT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>2 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_CONVERT_WKHTMLPDF_WORKING__DIR</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/tmp/docspell-convert<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_OCR_GHOSTSCRIPT_COMMAND_PROGRAM</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>gs<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_OCR_GHOSTSCRIPT_COMMAND_TIMEOUT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_OCR_GHOSTSCRIPT_WORKING__DIR</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/tmp/docspell-extraction<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Images greater than this size are skipped. Note that every</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  image is loaded completely into memory for doing OCR. This is</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  the pixel count, `height * width` of the image.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_OCR_MAX__IMAGE__SIZE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">14000000</span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_OCR_PAGE__RANGE_BEGIN</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">10</span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_OCR_TESSERACT_COMMAND_PROGRAM</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>tesseract<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_OCR_TESSERACT_COMMAND_TIMEOUT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_OCR_UNPAPER_COMMAND_PROGRAM</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>unpaper<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_OCR_UNPAPER_COMMAND_TIMEOUT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>5 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_PDF_MIN__TEXT__LEN</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">500</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  When rendering a pdf page, use this dpi. This results in</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  scaling the image. A standard A4 page rendered at 96dpi</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  results in roughly 790x1100px image. Using 32 results in</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  roughly 200x300px image.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Note, when this is changed, you might want to re-generate</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  preview images. Check the api for this, there is an endpoint</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  to regenerate all for a collective.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_EXTRACTION_PREVIEW_DPI</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">32</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Defines the chunk size (in bytes) used to store the files.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This will affect the memory footprint when uploading and</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  downloading files. At most this amount is loaded into RAM for</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  down- and uploading.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  It also defines the chunk size used for the blobs inside the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  database.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_FILES_CHUNK__SIZE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">524288</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The full-text search feature can be disabled. It requires an</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  additional index server which needs additional memory and disk</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  space. It can be enabled later any time.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Currently the SOLR search platform is supported.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_FULL__TEXT__SEARCH_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Chunk size to use when indexing data from the database. This</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  many attachments are loaded into memory and pushed to the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  full-text index.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_FULL__TEXT__SEARCH_MIGRATION_INDEX__ALL__CHUNK</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">10</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Used to tell solr when to commit the data</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_FULL__TEXT__SEARCH_SOLR_COMMIT__WITHIN</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">1000</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The defType parameter to lucene that defines the parser to</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  use. You might want to try &quot;edismax&quot; or look here:</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  https://solr.apache.org/guide/8_4/query-syntax-and-parsing.html#query-syntax-and-parsing</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_FULL__TEXT__SEARCH_SOLR_DEF__TYPE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>lucene<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If true, logs request and response bodies</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_FULL__TEXT__SEARCH_SOLR_LOG__VERBOSE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The default combiner for tokens. One of {AND, OR}.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_FULL__TEXT__SEARCH_SOLR_Q__OP</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>OR<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The URL to solr</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_FULL__TEXT__SEARCH_SOLR_URL</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>http://localhost:8983/solr/docspell<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Whether this task is enabled</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_CHECK__NODES_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">true</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  How often the node must be unreachable, before it is removed.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_CHECK__NODES_MIN__NOT__FOUND</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">2</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Whether this task is enabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_CLEANUP__INVITES_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">true</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The minimum age of invites to be deleted.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_CLEANUP__INVITES_OLDER__THAN</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This defines how many jobs are deleted in one transaction.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Since the data to delete may get large, it can be configured</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  whether more or less memory should be used.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_CLEANUP__JOBS_DELETE__BATCH</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>100<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Whether this task is enabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_CLEANUP__JOBS_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">true</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The minimum age of jobs to delete. It is matched against the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  `finished&#39; timestamp.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_CLEANUP__JOBS_OLDER__THAN</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Whether the job is enabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_CLEANUP__REMEMBER__ME_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">true</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The minimum age of tokens to be deleted.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_CLEANUP__REMEMBER__ME_OLDER__THAN</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 days<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  When the house keeping tasks execute. Default is to run every</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  week.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_HOUSE__KEEPING_SCHEDULE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Sun *-*-* 00:00:00<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The database password.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_JDBC_PASSWORD</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_JDBC_URL</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>jdbc:h2:///tmp/docspell-demo.db;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;AUTO_SERVER=TRUE<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The database user.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_JDBC_USER</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>sa<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Enable or disable debugging for e-mail related functionality. This</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  applies to both sending and receiving mails. For security reasons</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  logging is not very extensive on authentication failures. Setting</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  this to true, results in a lot of data printed to stdout.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_MAIL__DEBUG</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This is the id of this node. If you run more than one server, you</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  have to make sure to provide unique ids per node.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_PERIODIC__SCHEDULER_NAME</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>joex1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  A fallback to start looking for due periodic tasks regularily.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Usually joex instances should be notified via REST calls if</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  external processes change tasks. But these requests may get</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  lost.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_PERIODIC__SCHEDULER_WAKEUP__PERIOD</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>10 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  A counting scheme determines the ratio of how high- and low-prio</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  jobs are run. For example: 4,1 means run 4 high prio jobs, then</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  1 low prio and then start over.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_SCHEDULER_COUNTING__SCHEME</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>4,1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The queue size of log statements from a job.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_SCHEDULER_LOG__BUFFER__SIZE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">500</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This is the id of this node. If you run more than one server, you</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  have to make sure to provide unique ids per node.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_SCHEDULER_NAME</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>joex1<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Number of processing allowed in parallel.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_SCHEDULER_POOL__SIZE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">1</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  How often a failed job should be retried until it enters failed</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  state. If a job fails, it becomes &quot;stuck&quot; and will be retried</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  after a delay.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_SCHEDULER_RETRIES</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">2</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The delay until the next try is performed for a failed job. This</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  delay is increased exponentially with the number of retries.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_SCHEDULER_RETRY__DELAY</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>1 minute<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If no job is left in the queue, the scheduler will wait until a</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  notify is requested (using the REST interface). To also retry</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  stuck jobs, it will notify itself periodically.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_SCHEDULER_WAKEUP__PERIOD</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>30 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This is used as the List-Id e-mail header when mails are sent</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  from docspell to its users (example: for notification mails). It</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  is not used when sending to external recipients. If it is empty,</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  no such header is added. Using this header is often useful when</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  filtering mails.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  It should be a string in angle brackets. See</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  https://tools.ietf.org/html/rfc2919 for a formal specification</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  of this header.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_SEND__MAIL_LIST__ID</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Whether to enable classification globally. Each collective can</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  enable/disable auto-tagging. The classifier is also used for</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  finding correspondents and concerned entities, if enabled</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  here.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_TEXT__ANALYSIS_CLASSIFICATION_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">true</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If concerned with memory consumption, this restricts the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  number of items to consider. More are better for training. A</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  negative value or zero means to train on all items.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This limit and `text-analysis.max-length` define how much</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  memory is required. On weaker hardware, it is advised to play</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  with these values.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_TEXT__ANALYSIS_CLASSIFICATION_ITEM__COUNT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">600</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Maximum length of text to be analysed.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  All text to analyse must fit into RAM. A large document may take</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  too much heap. Also, most important information is at the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  beginning of a document, so in most cases the first two pages</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  should suffice. Default is 5000, which are about 2 pages (just a</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  rough guess, of course). For my data, more than 80% of the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  documents are less than 5000 characters.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This values applies to nlp and the classifier. If this value is</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  &lt;= 0, the limit is disabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_TEXT__ANALYSIS_MAX__LENGTH</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">5000</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The StanfordCoreNLP library caches language models which</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  requires quite some amount of memory. Setting this interval to a</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  positive duration, the cache is cleared after this amount of</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  idle time. Set it to 0 to disable it if you have enough memory,</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  processing will be faster.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  This has only any effect, if mode != disabled.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_TEXT__ANALYSIS_NLP_CLEAR__INTERVAL</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>15 minutes<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Restricts proposals for due dates. Only dates earlier than this</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  number of years in the future are considered.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_TEXT__ANALYSIS_NLP_MAX__DUE__DATE__YEARS</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">10</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The mode for configuring NLP models:</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  1. full – builds the complete pipeline</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  2. basic - builds only the ner annotator</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  3. regexonly - matches each entry in your address book via regexps</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  4. disabled - doesn&#39;t use any stanford-nlp feature</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The full and basic variants rely on pre-build language models</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  that are available for only a few languages. Memory usage</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  varies among the languages. So joex should run with -Xmx1400M</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  at least when using mode=full.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The basic variant does a quite good job for German and</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  English. It might be worse for French, always depending on the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  type of text that is analysed. Joex should run with about 500M</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  heap, here again lanugage German uses the most.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The regexonly variant doesn&#39;t depend on a language. It roughly</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  works by converting all entries in your addressbook into</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  regexps and matches each one against the text. This can get</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  memory intensive, too, when the addressbook grows large. This</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  is included in the full and basic by default, but can be used</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  independently by setting mode=regexner.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  When mode=disabled, then the whole nlp pipeline is disabled,</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  and you won&#39;t get any suggestions. Only what the classifier</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  returns (if enabled).</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_TEXT__ANALYSIS_NLP_MODE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>full<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The NER annotation uses a file of patterns that is derived</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  from a collective&#39;s address book. This is is the time how</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  long this data will be kept until a check for a state change</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  is done.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_TEXT__ANALYSIS_NLP_REGEX__NER_FILE__CACHE__TIME</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>1 minute<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Whether to enable custom NER annotation. This uses the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  address book of a collective as input for NER tagging (to</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  automatically find correspondent and concerned entities). If</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  the address book is large, this can be quite memory</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  intensive and also makes text analysis much slower. But it</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  improves accuracy and can be used independent of the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  lanugage. If this is set to 0, it is effectively disabled</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  and NER tagging uses only statistical models (that also work</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  quite well, but are restricted to the languages mentioned</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  above).</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Note, this is only relevant if nlp-config.mode is not</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  &quot;disabled&quot;.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_TEXT__ANALYSIS_NLP_REGEX__NER_MAX__ENTRIES</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">1000</span>
<span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_TEXT__ANALYSIS_WORKING__DIR</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>/tmp/docspell-analysis<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The body of the mail. Subject and body can contain these</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  variables which are replaced:</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  - `latestVersion` the latest available version of Docspell</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  - `currentVersion` the currently running (old) version of Docspell</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  - `releasedAt` a date when the release was published</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The body is processed as markdown after the variables have been</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  replaced.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_UPDATE__CHECK_BODY</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>\nHello,\n\nYou are currently running Docspell {{ currentVersion }}. Version *{{ latestVersion }}*\nis now available, which was released on {{ releasedAt }}. Check the release page at:\n\n&lt;https://github.com/eikek/docspell/releases/latest&gt;\n\nHave a nice day!\n\nDocpell Update Check\n<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Whether to enable this task</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_UPDATE__CHECK_ENABLED</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  When the update check should execute. Default is to run every</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  week.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_UPDATE__CHECK_SCHEDULE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Sun *-*-* 00:00:00<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  An account id in form of `collective/user` (or just `user` if</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  collective and user name are the same). This user account must</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  have at least one valid SMTP settings which are used to send the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  mail.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_UPDATE__CHECK_SENDER__ACCOUNT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The SMTP connection id that should be used for sending the mail.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_UPDATE__CHECK_SMTP__ID</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  The subject of the mail. It supports the same variables as the</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  body.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_UPDATE__CHECK_SUBJECT</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell {{ latestVersion }} is available<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  Sends the mail without checking the latest release. Can be used</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  if you want to see if mail sending works, but don&#39;t want to wait</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  until a new release is published.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_UPDATE__CHECK_TEST__RUN</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">false</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  How many mails (headers only) to retrieve in one chunk.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If this is greater than `max-mails&#39; it is set automatically to</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  the value of `max-mails&#39;.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_USER__TASKS_SCAN__MAILBOX_MAIL__CHUNK__SIZE</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">50</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  A limit of how many folders to scan through. If a user</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  configures more than this, only upto this limit folders are</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  scanned and a warning is logged.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_USER__TASKS_SCAN__MAILBOX_MAX__FOLDERS</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">50</span>

<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  A limit on how many mails to process in one job run. This is</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  meant to avoid too heavy resource allocation to one</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  user/collective.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> </span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  If more than this number of mails is encountered, a warning is</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">  logged.</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-variable z-other z-readwrite z-assignment z-shell">DOCSPELL_JOEX_USER__TASKS_SCAN__MAILBOX_MAX__MAILS</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">500</span>
</span></code></pre>

  
  



                    </div>

                    <footer class="w-full pt-8 pb-4 px-8 mt-4 bg-stone-50 dark:bg-stone-800 bg-opacity-80 dark:bg-opacity-50">
  <div class="text-center text-sm">
        <span>
            Docspell 0.32.0
        </span>
        <span class="ml-1 mr-1">•</span>
        <a href="https://spdx.org/licenses/AGPL-3.0-or-later.html" target="_blank">AGPLv3+</a>
        <span class="ml-1 mr-1">•</span>
        <a href="https://github.com/eikek/docspell" target="_blank">
            Source Code
        </a>
        <span class="ml-1 mr-1">•</span>
        <span>
            Chat on <a href="https://gitter.im/eikek/docspell" >Gitter</a>/<a href="https://app.element.io/#/room/#eikek_docspell:gitter.im" class="link">Matrix</a>
        </span>


    
    <div class="flex-grow flex flex-row justify-end items-end text-xs opacity-60">
        <a href="https://github.com/eikek/docspell/edit/current-docs/website/site/content/docs&#x2F;configure&#x2F;_index.md"
           title="Edit this page on Github"
           target="_blank"
        >
            <i class="fa fa-edit "></i>
            Edit
        </a>
    </div>
    
    </div>

    
</footer>

                </div>

                
                <div class="hidden pl-2 text-sm font-light mt-2 flex-col w-48 sticky top-4  lg:flex ">

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#configuration" class="hover:text-stone-900 dark:hover:text-stone-100">
                            Configuration
                        </a>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#file-format" class="hover:text-stone-900 dark:hover:text-stone-100">
                            File Format
                        </a>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#important-config-options" class="hover:text-stone-900 dark:hover:text-stone-100">
                            Important Config Options
                        </a>
                        
                        <div class="pl-4 opacity-75">
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#jdbc" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    JDBC
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#admin-endpoint" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    Admin Endpoint
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#full-text-search-solr" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    Full-Text Search: SOLR
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#bind" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    Bind
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#baseurl" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    Baseurl
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#app-id" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    App-id
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#registration-options" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    Registration Options
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#authentication" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    Authentication
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#openid-connect-oauth2" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    OpenID Connect &#x2F; OAuth2
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#file-processing" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    File Processing
                                </a>
                            </div>
                            
                        </div>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#jvm-options" class="hover:text-stone-900 dark:hover:text-stone-100">
                            JVM Options
                        </a>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#logging" class="hover:text-stone-900 dark:hover:text-stone-100">
                            Logging
                        </a>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#default-config" class="hover:text-stone-900 dark:hover:text-stone-100">
                            Default Config
                        </a>
                        
                        <div class="pl-4 opacity-75">
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#rest-server" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    Rest Server
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#joex" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    Joex
                                </a>
                            </div>
                            
                            <div class="border-l-2 dark:border-stone-700 pl-1">
                                <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;#environment-variables" class="hover:text-stone-900 dark:hover:text-stone-100">
                                    Environment Variables
                                </a>
                            </div>
                            
                        </div>
                        
                    </div>

                    
                </div>
                
            </div>
        </div>
        <script>
 var initSearch = function() {
     var elmSearch = Elm.Search.init({
         node: document.getElementById("search"),
         flags: {}
     });
     initElmSearch(elmSearch);
 }
 if (document.readyState === "complete" ||
     (document.readyState !== "loading" && !document.documentElement.doScroll)
 ) {
     initSearch();
 } else {
     document.addEventListener("DOMContentLoaded", initSearch);
 }
</script>

        <!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
<script>
 (function(f, a, t, h, o, m){
     a[h]=a[h]||function(){
         (a[h].q=a[h].q||[]).push(arguments)
     };
     o=f.createElement('script'),
     m=f.getElementsByTagName('script')[0];
     o.async=1; o.src=t; o.id='fathom-script';
     m.parentNode.insertBefore(o,m)
 })(document, window, '//webstats.daheim.site/tracker.js', 'fathom');
 fathom('set', 'siteId', 'OGJDF');
 fathom('trackPageview');
</script>
<!-- / Fathom -->

    </body>

</html>
