<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Eike Kettner">
<meta name="description" content="Docspell is a Document Management System (DMS), a system that asists in organizing your piles of documents, resulting from scanners, e-mails and other sources with miminal effort.">
<meta name="keywords" content="document management system dms organizer ocr open source free scan pdf word doc archive gpl machine learning nlp auto tagging"/>
<meta name="robots" content="index,follow"/>
<meta name="image" property="og:image" content="/img/poster.png">
<meta name="title" property="og:title" content="Docspell â€“ Simple Document Organizer">
<meta name="og:image" content="/img/poster.png">
<meta name="og:title" content="Docspell â€“ Simple Document Organizer">
<meta name="og:site_name" content="Browser Extension (Firefox) - Docspell">
<meta name="og:url" content="">
<meta name="og:type" content="website">
<meta name="og:description" content="Simple Document Organizer">
<meta name="twitter:title" content="Docspell">
<meta name="twitter:image" content="/img/poster.png">
<meta name="twitter:description" content="Simple Document Organizer">
<meta name="twitter:card" content="summary_large_image">

<link rel="shortcut icon" href="/favicon-mc.ico" type="image/x-icon">
<link rel="icon" href="/favicon-mc.ico" type="image/x-icon">

        <title>Browser Extension (Firefox) â€“ Docspell Documentation</title>
        <link rel="stylesheet" href="/styles.css">
    </head>
    <body>
        <section class="hero is-info is-small">
            <div class="hero-head">
                <nav class="navbar">
    <div class="navbar-brand">
        <a class="navbar-item" href="/">
            <span class="icon">
                <img src="/icons/logo-only-36.svg">
            </span>
            <span>
                Docspell
            </span>
        </a>
    </div>
    <div class="navbar-start">
        <a target="_blank"
           href="https://github.com/eikek/docspell"
           class="navbar-item">
            <span class="icon">
                <img src="/icons/github-40.svg">
            </span>
            <span>
                Github
            </span>
        </a>
    </div>
</nav>

            </div>
            <div class="hero-body">
                <div class="columns is-vcentered">
                    <div class="column is-8">
                        <h1 class="title">
                            Browser Extension (Firefox)
                        </h1>
                        <h2 class="subtitle">
                            Docspell Documentation
                        </h2>
                    </div>
                    <div class="column">
                        <id id="search"></id>
                    </div>
                </div>
            </div>
        </section>
        <nav class="breadcrumb has-succeeds-separator" aria-label="breadcrumbs"
             style="position:sticky; top: 0; z-index:10;">
            <ul>
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;docspell.org&#x2F;"></a>
                </li>
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;">Overview</a>
                </li>
                
                
                <li>
                    <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;">Tools</a>
                </li>
                
                <li>
                    <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;browserext&#x2F;">Browser Extension (Firefox)</a>
                </li>
            </ul>
        </nav>

        <section class="section pt-2">
            <div class="columns is-desktop">
                <div class="column is-3">
                    <div class="menu"
                         style="position:sticky; top:2rem; z-index:10;">
                        <ul class="menu-list">
                            
                            

                            <p class="menu-label">
                                Tools
                            </p>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/tools/cli/"
                                   >
                                    Cli
                                </a>
                                
                            </li>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/tools/android/"
                                   >
                                    Android Client
                                </a>
                                
                            </li>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/tools/browserext/"
                                   class="is-active">
                                    Browser Extension (Firefox)
                                </a>
                                
                                <ul class="menu-list">
                                    
                                    <li>
                                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;browserext&#x2F;#install-dsc">
                                            Install dsc
                                        </a>
                                        <ul>
                                            
                                        </ul>
                                    </li>
                                    
                                    <li>
                                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;browserext&#x2F;#install-the-native-part">
                                            Install the native part
                                        </a>
                                        <ul>
                                            
                                        </ul>
                                    </li>
                                    
                                    <li>
                                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;browserext&#x2F;#install-the-extension">
                                            Install the extension
                                        </a>
                                        <ul>
                                            
                                        </ul>
                                    </li>
                                    
                                </ul>
                                
                            </li>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/tools/smtpgateway/"
                                   >
                                    Smtp Gateway With Exim
                                </a>
                                
                            </li>
                            
                            
                            <li>
                                <a href="https://docspell.org/docs/tools/paperless-import/"
                                   >
                                    Paperless Import
                                </a>
                                
                            </li>
                            
                        </ul>
                    </div>
                </div>

                <div class="column is-9">
                    <div class="container">
                        <div class="content doc">
                            <p>The idea is to click on a file in firefox and send it to docspell. It
is downloaded in the context of your current page. Then handed to an
application that pushes it to docspell. There is a browser add-on
implementing this in <code>tools/webextension</code>. This add-on only works with
firefox.</p>
<p>Installation is a bit complicated, since you need to install external
tools and the web extension. Both work together.</p>
<h1 id="install-dsc">Install <code>dsc</code><a class="zola-anchor" href="#install-dsc" aria-label="Anchor link for: install-dsc">ðŸ”—</a></h1>
<p>First copy the <a href="https://docspell.org/docs/tools/cli/">dsc</a> tool somewhere in your
<code>PATH</code>, maybe <code>/usr/local/bin</code>.</p>
<h1 id="install-the-native-part">Install the native part<a class="zola-anchor" href="#install-the-native-part" aria-label="Anchor link for: install-the-native-part">ðŸ”—</a></h1>
<p>Then install the &quot;native&quot; part of the web extension:</p>
<p>Copy or symlink the <code>native.py</code> script into some known location. For
example:</p>
<pre data-lang="bash" style="background-color:#282828;color:#fdf4c1aa;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#fdf4c1;">ln -s ~/docspell-checkout/tools/webextension/native/native.py /usr/local/share/docspell/native.py
</span></code></pre>
<p>Then copy the <code>app_manifest.json</code> to
<code>$HOME/.mozilla/native-messaging-hosts/docspell.json</code>. For example:</p>
<pre data-lang="bash" style="background-color:#282828;color:#fdf4c1aa;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#fdf4c1;">cp ~/docspell-checkout/tools/webextension/native/app_manifest.json  ~/.mozilla/native-messaging-hosts/docspell.json
</span></code></pre>
<p>See
<a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_manifests#manifest_location">here</a>
for details.</p>
<p>And you might want to modify this json file, so the path to the
<code>native.py</code> script is correct (it must be absolute).</p>
<p>If the <code>dsc</code> tool is in your <code>$PATH</code>, then this should work. You need
to provide a default source id in your <code>~/.config/dsc/config.toml</code> so
that the upload command can be used without further arguments.</p>
<p>Otherwise, edit the <code>native.py</code> script and change the path to the tool
and/or the arguments. Or create a file
<code>$HOME/.config/docspell/dsc.cmd</code> whose content is the path to the
<code>dsc</code> tool.</p>
<h1 id="install-the-extension">Install the extension<a class="zola-anchor" href="#install-the-extension" aria-label="Anchor link for: install-the-extension">ðŸ”—</a></h1>
<p>An extension file can be build using the <code>make-xpi.sh</code> script. But
installing it in &quot;standard&quot; firefox won't work, because <a href="https://wiki.mozilla.org/Add-ons/Extension_Signing">Mozilla
requires extensions to be signed by
them</a>. This means
creating an account and going through some processâ€¦. So here are two
alternatives:</p>
<ol>
<li>Open firefox and type <code>about:debugging</code> in the addressbar. Then
click on <em>'Load Temporary Add-on...'</em> and select the
<code>manifest.json</code> file. The extension is now installed. The downside
is, that the extension will be removed once firefox is closed.</li>
<li>Use Firefox ESR, which allows to install Add-ons not signed by
Mozilla. But it has to be configured: Open firefox and type
<code>about:config</code> in the address bar. Search for key
<code>xpinstall.signatures.required</code> and set it to <code>false</code>. This is
described on the last paragraph on <a href="https://support.mozilla.org/en-US/kb/add-on-signing-in-firefox">this
page</a>.</li>
</ol>
<p>When you right click on a file link, there should be a context menu
entry <em>'Docspell Upload Helper'</em>. The add-on will download this file
using the browser and then send the file path to the <code>native.py</code>
script. This script will in turn call <code>dsc</code> which finally uploads it
to your configured URLs.</p>
<p>Open the Add-ons page (<code>Ctrl</code>+<code>Shift</code>+<code>A</code>), the new add-on should be
there.</p>

                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            <span>
                Docspell 0.28.0
            </span>
            <span class="ml-1 mr-1">â€¢</span>
            <a href="https://spdx.org/licenses/AGPL-3.0-or-later.html" target="_blank">AGPLv3+</a>
            <span class="ml-1 mr-1">â€¢</span>
            <a href="https://github.com/eikek/docspell" target="_blank">
                Source Code
            </a>
            <span class="ml-1 mr-1">â€¢</span>
            <span>
                Chat on <a href="https://gitter.im/eikek/docspell">Gitter</a>/<a href="https://app.element.io/#/room/#eikek_docspell:gitter.im">Matrix</a>
            </span>
        </div>
    </div>
    
</footer>

        <script type="text/javascript" src="https://docspell.org/elasticlunr.min.js"></script>
<script type="text/javascript" src="https://docspell.org/search_index.en.js"></script>
<script type="text/javascript" src="https://docspell.org/js/searchhelper.js"></script>
<script type="text/javascript" src="https://docspell.org/js/bundle.js"></script>

        <script>
 var initSearch = function() {
     var elmSearch = Elm.Search.init({
         node: document.getElementById("search"),
         flags: {}
     });
     initElmSearch(elmSearch);
 }
 if (document.readyState === "complete" ||
     (document.readyState !== "loading" && !document.documentElement.doScroll)
 ) {
     initSearch();
 } else {
     document.addEventListener("DOMContentLoaded", initSearch);
 }
</script>

        <!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
<script>
 (function(f, a, t, h, o, m){
     a[h]=a[h]||function(){
         (a[h].q=a[h].q||[]).push(arguments)
     };
     o=f.createElement('script'),
     m=f.getElementsByTagName('script')[0];
     o.async=1; o.src=t; o.id='fathom-script';
     m.parentNode.insertBefore(o,m)
 })(document, window, '//webstats.daheim.site/tracker.js', 'fathom');
 fathom('set', 'siteId', 'OGJDF');
 fathom('trackPageview');
</script>
<!-- / Fathom -->

    </body>
</html>
